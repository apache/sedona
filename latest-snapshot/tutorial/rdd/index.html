
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Apache Sedona&trade; is a cluster computing system for processing large-scale spatial data. Sedona extends existing cluster computing systems, such as Apache Spark, Apache Flink, and Snowflake, with a set of out-of-the-box distributed Spatial Datasets and Spatial SQL that efficiently load, process, and analyze large-scale spatial data across machines.">
      
      
      
        <link rel="canonical" href="https://sedona.apache.org/latest/tutorial/rdd/">
      
      
        <link rel="prev" href="../sql-pure-sql/">
      
      
        <link rel="next" href="../geopandas-shapely/">
      
      
      <link rel="icon" href="../../image/sedona_logo_symbol.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Spatial RDD app - Apache Sedona&trade;</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  <meta name="google-site-verification" content="o2riomKLozYKc2IQivWGsrI2unuyQs7hXiAD4kGMCTQ" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#set-up-dependencies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest stable version.
  <a href="../../..">
    <strong>Click here to go to the latest stable version.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Apache Sedona&amp;trade;" class="md-header__button md-logo" aria-label="Apache Sedona&trade;" data-md-component="logo">
      
  <img src="../../image/sedona_logo_symbol_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apache Sedona&trade;
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Spatial RDD app
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/apache/sedona" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    apache/sedona
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../setup/overview/" class="md-tabs__link">
          
  
  
  Setup

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../download/" class="md-tabs__link">
        
  
  
    
  
  Download

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../sql/" class="md-tabs__link">
          
  
  
  Programming Guides

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/sql/Overview/" class="md-tabs__link">
          
  
  
  API Docs

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../blog/" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../community/contact/" class="md-tabs__link">
          
  
  
  Community

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../asf/asf/" class="md-tabs__link">
          
  
  
  Apache Software Foundation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apache Sedona&amp;trade;" class="md-nav__button md-logo" aria-label="Apache Sedona&trade;" data-md-component="logo">
      
  <img src="../../image/sedona_logo_symbol_white.svg" alt="logo">

    </a>
    Apache Sedona&trade;
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/apache/sedona" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    apache/sedona
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Supported platforms
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Supported platforms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Apache Spark
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Language wrappers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Apache Flink
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/flink/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/flink/platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Language wrappers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Snowflake
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_3">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Snowflake
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/snowflake/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/maven-coordinates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maven Central coordinate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Install with Apache Spark
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Install with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/install-scala/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona Scala/Java
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/install-python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rdocs" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona R
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/zeppelin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona-Zeppelin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Play Sedona in Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/wherobots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on Wherobots
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/databricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on Databricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/emr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on AWS EMR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/glue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on AWS Glue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/fabric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on Microsoft Fabric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up Spark cluster manually
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/azure-synapse-analytics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on Azure Synapse Analytics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Install with Apache Flink
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Install with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/flink/install-scala/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona Scala/Java
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/flink/install-python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Install with Snowflake
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Install with Snowflake
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/snowflake/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Sedona SQL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/compile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compile the code
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../download/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Programming Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Programming Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Apache Spark
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spatial SQL app
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster SQL app
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql-pure-sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pure SQL environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Spatial RDD app
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Spatial RDD app
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#set-up-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Set up dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-sedona-config" class="md-nav__link">
    <span class="md-ellipsis">
      Create Sedona config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initiate-sedonacontext" class="md-nav__link">
    <span class="md-ellipsis">
      Initiate SedonaContext
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-spatialrdd-from-sedonasql-dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      Create a SpatialRDD from SedonaSQL DataFrame
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-the-coordinate-reference-system" class="md-nav__link">
    <span class="md-ellipsis">
      Transform the Coordinate Reference System
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-spatial-range-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Spatial Range Query
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write a Spatial Range Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range-query-window" class="md-nav__link">
    <span class="md-ellipsis">
      Range query window
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-spatial-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-format" class="md-nav__link">
    <span class="md-ellipsis">
      Output format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-spatial-knn-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Spatial KNN Query
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write a Spatial KNN Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-center-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      Query center geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-spatial-indexes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-format_1" class="md-nav__link">
    <span class="md-ellipsis">
      Output format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-spatial-join-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Spatial Join Query
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write a Spatial Join Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-spatial-partitioning" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial partitioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-spatial-indexes_2" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-format_2" class="md-nav__link">
    <span class="md-ellipsis">
      Output format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-distance-join-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Distance Join Query
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save-to-permanent-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Save to permanent storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Save to permanent storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#save-an-spatialrdd-not-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      Save an SpatialRDD (not indexed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-an-spatialrdd-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      Save an SpatialRDD (indexed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-an-spatialrdd-spatialpartitioned-wo-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      Save an SpatialRDD (spatialPartitioned W/O indexed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reload-a-saved-spatialrdd" class="md-nav__link">
    <span class="md-ellipsis">
      Reload a saved SpatialRDD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rdocs" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sedona R
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../geopandas-shapely/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Work with GeoPandas and Shapely
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7" >
        
          
          <label class="md-nav__link" for="__nav_4_1_7" id="__nav_4_1_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Files
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7">
            <span class="md-nav__icon md-icon"></span>
            Files
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/csv-geometry-sedona-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/geopackage-sedona-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GeoPackage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/geoparquet-sedona-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GeoParquet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/geojson-sedona-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GeoJSON
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/shapefiles-sedona-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shapefiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/stac-sedona-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STAC catalog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8" >
        
          
          <label class="md-nav__link" for="__nav_4_1_8" id="__nav_4_1_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/spatial-joins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spatial Joins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/clustering-algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clustering Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/distance-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_9" >
        
          
          <label class="md-nav__link" for="__nav_4_1_9" id="__nav_4_1_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Map visualization SQL app
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_9">
            <span class="md-nav__icon md-icon"></span>
            Map visualization SQL app
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../viz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scala/Java
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zeppelin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Apache Zeppelin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../viz-gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gallery
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_10" >
        
          
          <label class="md-nav__link" for="__nav_4_1_10" id="__nav_4_1_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Performance tuning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_10">
            <span class="md-nav__icon md-icon"></span>
            Performance tuning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../benchmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Benchmark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Advanced-Tutorial-Tune-your-Application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tune RDD application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storing-blobs-in-parquet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storing large raster geometries in Parquet files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Apache Flink
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flink/sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spatial SQL app (Flink)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flink/pyflink-sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spatial SQL app (PyFlink)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Snowflake
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Snowflake
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snowflake/sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spatial SQL app (Snowflake)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scala/Java
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jupyter-notebook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Apache Spark
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1_1" id="__nav_5_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_1_2" id="__nav_5_1_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Vector data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1_2">
            <span class="md-nav__icon md-icon"></span>
            Vector data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Constructor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constructor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Function/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Predicate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predicate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/AggregateFunction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregate function
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/DataFrameAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame Style functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Optimizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query optimization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/NearestNeighbourSearching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nearest-Neighbour searching
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Spider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spider:Spatial Data Generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Reading-legacy-parquet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reading Legacy Parquet Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1_2_10" >
        
          
          <label class="md-nav__link" for="__nav_5_1_1_2_10" id="__nav_5_1_1_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Visualization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_1_1_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1_2_10">
            <span class="md-nav__icon md-icon"></span>
            Visualization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Visualization-SedonaPyDeck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SedonaPyDeck
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Visualization-SedonaKepler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SedonaKepler
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_1_3" id="__nav_5_1_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Raster data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1_3">
            <span class="md-nav__icon md-icon"></span>
            Raster data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-loader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-aggregate-function/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster aggregates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-writer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster writer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-operators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster operators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-map-algebra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster map algebra
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-visualizer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster visualization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Raster-affine-transformation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raster affine transformation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sql/Parameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parameter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RDD (core)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            RDD (core)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/java-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scala/Java doc
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Stats
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            Stats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/stats/sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Viz
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Viz
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/viz/sql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame/SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/viz/java-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RDD
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rdocs" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sedona R
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Apache Flink
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/flink/Overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview (Flink)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/flink/Constructor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constructor (Flink)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/flink/Function/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function (Flink)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/flink/Aggregator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregator (Flink)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/flink/Predicate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predicate (Flink)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sedona with Snowflake
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Snowflake
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/snowflake/vector-data/Overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview (Snowflake)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/snowflake/vector-data/Constructor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constructor (Snowflake)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/snowflake/vector-data/Function/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function (Snowflake)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/snowflake/vector-data/AggregateFunction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggregate Function (Snowflake)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/snowflake/vector-data/Predicate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predicate (Snowflake)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contributor Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Contributor Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/rule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/develop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Develop
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Committer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Committer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/contributor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Management Committee
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/release-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Become a release manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/snapshot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publish a snapshot version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/publish/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Make a release
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/vote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vote a release
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/publication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publications
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Apache Software Foundation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Apache Software Foundation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../asf/asf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Foundation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/licenses/" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/events/current-event" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sponsorship
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/foundation/thanks.html" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thanks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/security/" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Privacy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../asf/telemetry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telemetry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#set-up-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Set up dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-sedona-config" class="md-nav__link">
    <span class="md-ellipsis">
      Create Sedona config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initiate-sedonacontext" class="md-nav__link">
    <span class="md-ellipsis">
      Initiate SedonaContext
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-spatialrdd-from-sedonasql-dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      Create a SpatialRDD from SedonaSQL DataFrame
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-the-coordinate-reference-system" class="md-nav__link">
    <span class="md-ellipsis">
      Transform the Coordinate Reference System
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-spatial-range-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Spatial Range Query
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write a Spatial Range Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#range-query-window" class="md-nav__link">
    <span class="md-ellipsis">
      Range query window
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-spatial-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-format" class="md-nav__link">
    <span class="md-ellipsis">
      Output format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-spatial-knn-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Spatial KNN Query
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write a Spatial KNN Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-center-geometry" class="md-nav__link">
    <span class="md-ellipsis">
      Query center geometry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-spatial-indexes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-format_1" class="md-nav__link">
    <span class="md-ellipsis">
      Output format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-spatial-join-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Spatial Join Query
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write a Spatial Join Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-spatial-partitioning" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial partitioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-spatial-indexes_2" class="md-nav__link">
    <span class="md-ellipsis">
      Use spatial indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-format_2" class="md-nav__link">
    <span class="md-ellipsis">
      Output format
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-a-distance-join-query" class="md-nav__link">
    <span class="md-ellipsis">
      Write a Distance Join Query
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#save-to-permanent-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Save to permanent storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Save to permanent storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#save-an-spatialrdd-not-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      Save an SpatialRDD (not indexed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-an-spatialrdd-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      Save an SpatialRDD (indexed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-an-spatialrdd-spatialpartitioned-wo-indexed" class="md-nav__link">
    <span class="md-ellipsis">
      Save an SpatialRDD (spatialPartitioned W/O indexed)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reload-a-saved-spatialrdd" class="md-nav__link">
    <span class="md-ellipsis">
      Reload a saved SpatialRDD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
    
                  


  
    <a href="https://github.com/apache/sedona/edit/master/docs/tutorial/rdd.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>Spatial RDD app</h1>

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<p>The page outlines the steps to create Spatial RDDs and run spatial queries using Sedona-core.</p>
<h2 id="set-up-dependencies">Set up dependencies<a class="headerlink" href="#set-up-dependencies" title="Permanent link">&para;</a></h2>
<p>Please refer to <a href="../sql/#set-up-dependencies">Set up dependencies</a> to set up dependencies.</p>
<h2 id="create-sedona-config">Create Sedona config<a class="headerlink" href="#create-sedona-config" title="Permanent link">&para;</a></h2>
<p>Please refer to <a href="../sql/#create-sedona-config">Create Sedona config</a> to create a Sedona config.</p>
<h2 id="initiate-sedonacontext">Initiate SedonaContext<a class="headerlink" href="#initiate-sedonacontext" title="Permanent link">&para;</a></h2>
<p>Please refer to <a href="../sql/#initiate-sedonacontext">Initiate SedonaContext</a> to initiate a SedonaContext.</p>
<h2 id="create-a-spatialrdd-from-sedonasql-dataframe">Create a SpatialRDD from SedonaSQL DataFrame<a class="headerlink" href="#create-a-spatialrdd-from-sedonasql-dataframe" title="Permanent link">&para;</a></h2>
<p>Please refer to <a href="../sql/#create-a-geometry-type-column">Create a Geometry type column</a> to create a Geometry type column. Then you can create a SpatialRDD from the DataFrame.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Scala</label><label for="__tabbed_1_2">Java</label><label for="__tabbed_1_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="n">spatialRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">StructuredAdapter</span><span class="p">.</span><span class="n">toSpatialRdd</span><span class="p">(</span><span class="n">spatialDf</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;usacounty&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">SpatialRDD</span><span class="w"> </span><span class="n">spatialRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StructuredAdapter</span><span class="p">.</span><span class="na">toSpatialRdd</span><span class="p">(</span><span class="n">spatialDf</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;usacounty&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">StructuredAdapter</span>

<span class="n">spatialRDD</span> <span class="o">=</span> <span class="n">StructuredAdapter</span><span class="o">.</span><span class="n">toSpatialRdd</span><span class="p">(</span><span class="n">spatialDf</span><span class="p">,</span> <span class="s2">&quot;usacounty&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>"usacounty" is the name of the geometry column. It is an optional parameter. If you don't provide it, the first geometry column will be used.</p>
<h2 id="transform-the-coordinate-reference-system">Transform the Coordinate Reference System<a class="headerlink" href="#transform-the-coordinate-reference-system" title="Permanent link">&para;</a></h2>
<p>Sedona doesn't control the coordinate unit (degree-based or meter-based) of all geometries in an SpatialRDD. The unit of all related distances in Sedona is same as the unit of all geometries in an SpatialRDD.</p>
<p>By default, this function uses lon/lat order since <code>v1.5.0</code>. Before, it used lat/lon order. You can use <mark>spatialRDD.flipCoordinates</mark> to swap X and Y.</p>
<p>To convert Coordinate Reference System of an SpatialRDD, use the following code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Scala</label><label for="__tabbed_2_2">Java</label><label for="__tabbed_2_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">sourceCrsCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;epsg:4326&quot;</span><span class="w"> </span><span class="c1">// WGS84, the most common degree-based CRS</span>
<span class="kd">val</span><span class="w"> </span><span class="n">targetCrsCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;epsg:3857&quot;</span><span class="w"> </span><span class="c1">// The most common meter-based CRS</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="nc">CRSTransform</span><span class="p">(</span><span class="n">sourceCrsCode</span><span class="p">,</span><span class="w"> </span><span class="n">targetCrsCode</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">String</span><span class="w"> </span><span class="n">sourceCrsCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;epsg:4326&quot;</span><span class="w"> </span><span class="c1">// WGS84, the most common degree-based CRS</span>
<span class="n">String</span><span class="w"> </span><span class="n">targetCrsCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;epsg:3857&quot;</span><span class="w"> </span><span class="c1">// The most common meter-based CRS</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="na">CRSTransform</span><span class="p">(</span><span class="n">sourceCrsCode</span><span class="p">,</span><span class="w"> </span><span class="n">targetCrsCode</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">sourceCrsCode</span> <span class="o">=</span> <span class="s2">&quot;epsg:4326&quot;</span> <span class="o">//</span> <span class="n">WGS84</span><span class="p">,</span> <span class="n">the</span> <span class="n">most</span> <span class="n">common</span> <span class="n">degree</span><span class="o">-</span><span class="n">based</span> <span class="n">CRS</span>
<span class="n">targetCrsCode</span> <span class="o">=</span> <span class="s2">&quot;epsg:3857&quot;</span> <span class="o">//</span> <span class="n">The</span> <span class="n">most</span> <span class="n">common</span> <span class="n">meter</span><span class="o">-</span><span class="n">based</span> <span class="n">CRS</span>
<span class="n">objectRDD</span><span class="o">.</span><span class="n">CRSTransform</span><span class="p">(</span><span class="n">sourceCrsCode</span><span class="p">,</span> <span class="n">targetCrsCode</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p><code>false</code> in CRSTransform(sourceCrsCode, targetCrsCode, false) means that it will not tolerate Datum shift. If you want it to be lenient, use <code>true</code> instead.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>CRS transformation should be done right after creating each SpatialRDD, otherwise it will lead to wrong query results. For instance, use something like this:</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Scala</label><label for="__tabbed_3_2">Java</label><label for="__tabbed_3_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">objectRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">WktReader</span><span class="p">.</span><span class="n">readToGeometryRDD</span><span class="p">(</span><span class="n">sedona</span><span class="p">.</span><span class="n">sparkContext</span><span class="p">,</span><span class="w"> </span><span class="n">inputLocation</span><span class="p">,</span><span class="w"> </span><span class="n">wktColumn</span><span class="p">,</span><span class="w"> </span><span class="n">allowTopologyInvalidGeometries</span><span class="p">,</span><span class="w"> </span><span class="n">skipSyntaxInvalidGeometries</span><span class="p">)</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="nc">CRSTransform</span><span class="p">(</span><span class="s">&quot;epsg:4326&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;epsg:3857&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">SpatialRDD</span><span class="w"> </span><span class="n">objectRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WktReader</span><span class="p">.</span><span class="na">readToGeometryRDD</span><span class="p">(</span><span class="n">sedona</span><span class="p">.</span><span class="na">sparkContext</span><span class="p">,</span><span class="w"> </span><span class="n">inputLocation</span><span class="p">,</span><span class="w"> </span><span class="n">wktColumn</span><span class="p">,</span><span class="w"> </span><span class="n">allowTopologyInvalidGeometries</span><span class="p">,</span><span class="w"> </span><span class="n">skipSyntaxInvalidGeometries</span><span class="p">)</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="na">CRSTransform</span><span class="p">(</span><span class="s">&quot;epsg:4326&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;epsg:3857&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRDD</span> <span class="o">=</span> <span class="n">WktReader</span><span class="o">.</span><span class="n">readToGeometryRDD</span><span class="p">(</span><span class="n">sedona</span><span class="o">.</span><span class="n">sparkContext</span><span class="p">,</span> <span class="n">inputLocation</span><span class="p">,</span> <span class="n">wktColumn</span><span class="p">,</span> <span class="n">allowTopologyInvalidGeometries</span><span class="p">,</span> <span class="n">skipSyntaxInvalidGeometries</span><span class="p">)</span>
<span class="n">objectRDD</span><span class="o">.</span><span class="n">CRSTransform</span><span class="p">(</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="s2">&quot;epsg:3857&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>The details CRS information can be found on <a href="https://epsg.io/">EPSG.io</a></p>
<h2 id="write-a-spatial-range-query">Write a Spatial Range Query<a class="headerlink" href="#write-a-spatial-range-query" title="Permanent link">&para;</a></h2>
<p>A spatial range query takes as input a range query window and an SpatialRDD and returns all geometries that have specified relationship with the query window.</p>
<p>Assume you now have a SpatialRDD (typed or generic). You can use the following code to issue a Spatial Range Query on it.</p>
<p><mark>spatialPredicate</mark> can be set to <code>SpatialPredicate.INTERSECTS</code> to return all geometries intersect with query window. Supported spatial predicates are:</p>
<ul>
<li><code>CONTAINS</code>: geometry is completely inside the query window</li>
<li><code>INTERSECTS</code>: geometry have at least one point in common with the query window</li>
<li><code>WITHIN</code>: geometry is completely within the query window (no touching edges)</li>
<li><code>COVERS</code>: query window has no point outside of the geometry</li>
<li><code>COVERED_BY</code>: geometry has no point outside of the query window</li>
<li><code>OVERLAPS</code>: geometry and the query window spatially overlap</li>
<li><code>CROSSES</code>: geometry and the query window spatially cross</li>
<li><code>TOUCHES</code>: the only points shared between geometry and the query window are on the boundary of geometry and the query window</li>
<li><code>EQUALS</code>: geometry and the query window are spatially equal</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Spatial range query is equivalent with a SELECT query with spatial predicate as search condition in Spatial SQL. An example query is as follows:
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">checkin</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ST_Intersects</span><span class="p">(</span><span class="n">checkin</span><span class="p">.</span><span class="k">location</span><span class="p">,</span><span class="w"> </span><span class="n">queryWindow</span><span class="p">)</span>
</code></pre></div></p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Scala</label><label for="__tabbed_4_2">Java</label><label for="__tabbed_4_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">80.01</span><span class="p">,</span><span class="w"> </span><span class="mf">30.01</span><span class="p">,</span><span class="w"> </span><span class="mf">40.01</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SpatialPredicate</span><span class="p">.</span><span class="nc">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by the window</span>
<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="kd">var</span><span class="w"> </span><span class="n">queryResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">RangeQuery</span><span class="p">.</span><span class="nc">SpatialRangeQuery</span><span class="p">(</span><span class="n">spatialRDD</span><span class="p">,</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">Envelope</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">80.01</span><span class="p">,</span><span class="w"> </span><span class="mf">30.01</span><span class="p">,</span><span class="w"> </span><span class="mf">40.01</span><span class="p">)</span>
<span class="n">SpatialPredicate</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpatialPredicate</span><span class="p">.</span><span class="na">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by the window</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="n">JavaRDD</span><span class="w"> </span><span class="n">queryResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RangeQuery</span><span class="p">.</span><span class="na">SpatialRangeQuery</span><span class="p">(</span><span class="n">spatialRDD</span><span class="p">,</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">Envelope</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">RangeQuery</span>

<span class="n">range_query_window</span> <span class="o">=</span> <span class="n">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">80.01</span><span class="p">,</span> <span class="mf">30.01</span><span class="p">,</span> <span class="mf">40.01</span><span class="p">)</span>
<span class="n">consider_boundary_intersection</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1">## Only return gemeotries fully covered by the window</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">RangeQuery</span><span class="o">.</span><span class="n">SpatialRangeQuery</span><span class="p">(</span><span class="n">spatial_rdd</span><span class="p">,</span> <span class="n">range_query_window</span><span class="p">,</span> <span class="n">consider_boundary_intersection</span><span class="p">,</span> <span class="n">using_index</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sedona Python users: Please use RangeQueryRaw from the same module if you want to avoid jvm python serde while converting to Spatial DataFrame. It takes the same parameters as RangeQuery but returns reference to jvm rdd which can be converted to dataframe without python - jvm serde using Adapter.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">Envelope</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">RangeQueryRaw</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">Adapter</span>

<span class="n">range_query_window</span> <span class="o">=</span> <span class="n">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">80.01</span><span class="p">,</span> <span class="mf">30.01</span><span class="p">,</span> <span class="mf">40.01</span><span class="p">)</span>
<span class="n">consider_boundary_intersection</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1">## Only return gemeotries fully covered by the window</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">RangeQueryRaw</span><span class="o">.</span><span class="n">SpatialRangeQuery</span><span class="p">(</span><span class="n">spatial_rdd</span><span class="p">,</span> <span class="n">range_query_window</span><span class="p">,</span> <span class="n">consider_boundary_intersection</span><span class="p">,</span> <span class="n">using_index</span><span class="p">)</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">StructuredAdapter</span><span class="o">.</span><span class="n">toDf</span><span class="p">(</span><span class="n">query_result</span><span class="p">,</span> <span class="n">spark</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s2">&quot;coln&quot;</span><span class="p">])</span>
</code></pre></div></p>
</div>
<h3 id="range-query-window">Range query window<a class="headerlink" href="#range-query-window" title="Permanent link">&para;</a></h3>
<p>Besides the rectangle (Envelope) type range query window, Sedona range query window can be Point/Polygon/LineString.</p>
<p>The code to create a point, linestring (4 vertices) and polygon (4 vertices) is as follows:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Scala</label><label for="__tabbed_5_2">Java</label><label for="__tabbed_5_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">GeometryFactory</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="n">pointObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="n">createPoint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span><span class="w"> </span><span class="mf">34.01</span><span class="p">))</span>

<span class="kd">val</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">GeometryFactory</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="n">coordinates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Coordinate</span><span class="p">](</span><span class="mi">5</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">// The last coordinate is the same as the first coordinate in order to compose a closed ring</span>
<span class="kd">val</span><span class="w"> </span><span class="n">polygonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="n">createPolygon</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">GeometryFactory</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="n">coordinates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">Coordinate</span><span class="p">](</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">linestringObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="n">createLineString</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">GeometryFactory</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GeometryFactory</span><span class="p">()</span>
<span class="n">Point</span><span class="w"> </span><span class="n">pointObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="na">createPoint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span><span class="w"> </span><span class="mf">34.01</span><span class="p">))</span>

<span class="n">GeometryFactory</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GeometryFactory</span><span class="p">()</span>
<span class="n">Coordinate</span><span class="o">[]</span><span class="w"> </span><span class="n">coordinates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Array</span><span class="o">[</span><span class="n">Coordinate</span><span class="o">]</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">// The last coordinate is the same as the first coordinate in order to compose a closed ring</span>
<span class="n">Polygon</span><span class="w"> </span><span class="n">polygonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="na">createPolygon</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>

<span class="n">GeometryFactory</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GeometryFactory</span><span class="p">()</span>
<span class="n">val</span><span class="w"> </span><span class="n">coordinates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Array</span><span class="o">[</span><span class="n">Coordinate</span><span class="o">]</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">coordinates</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">LineString</span><span class="w"> </span><span class="n">linestringObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="na">createLineString</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>A Shapely geometry can be used as a query window. To create shapely geometries, please follow <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely official docs</a></p>
</div>
</div>
</div>
<h3 id="use-spatial-indexes">Use spatial indexes<a class="headerlink" href="#use-spatial-indexes" title="Permanent link">&para;</a></h3>
<p>Sedona provides two types of spatial indexes, Quad-Tree and R-Tree. Once you specify an index type, Sedona will build a local tree index on each of the SpatialRDD partition.</p>
<p>To utilize a spatial index in a spatial range query, use the following code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Scala</label><label for="__tabbed_6_2">Java</label><label for="__tabbed_6_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">80.01</span><span class="p">,</span><span class="w"> </span><span class="mf">30.01</span><span class="p">,</span><span class="w"> </span><span class="mf">40.01</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SpatialPredicate</span><span class="p">.</span><span class="nc">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by the window</span>

<span class="kd">val</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">// Set to TRUE only if run join query</span>
<span class="n">spatialRDD</span><span class="p">.</span><span class="n">buildIndex</span><span class="p">(</span><span class="nc">IndexType</span><span class="p">.</span><span class="nc">QUADTREE</span><span class="p">,</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="kd">var</span><span class="w"> </span><span class="n">queryResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">RangeQuery</span><span class="p">.</span><span class="nc">SpatialRangeQuery</span><span class="p">(</span><span class="n">spatialRDD</span><span class="p">,</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">Envelope</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">80.01</span><span class="p">,</span><span class="w"> </span><span class="mf">30.01</span><span class="p">,</span><span class="w"> </span><span class="mf">40.01</span><span class="p">)</span>
<span class="n">SpatialPredicate</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpatialPredicate</span><span class="p">.</span><span class="na">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by the window</span>

<span class="kt">boolean</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">// Set to TRUE only if run join query</span>
<span class="n">spatialRDD</span><span class="p">.</span><span class="na">buildIndex</span><span class="p">(</span><span class="n">IndexType</span><span class="p">.</span><span class="na">QUADTREE</span><span class="p">,</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="p">)</span>

<span class="kt">boolean</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">JavaRDD</span><span class="w"> </span><span class="n">queryResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RangeQuery</span><span class="p">.</span><span class="na">SpatialRangeQuery</span><span class="p">(</span><span class="n">spatialRDD</span><span class="p">,</span><span class="w"> </span><span class="n">rangeQueryWindow</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">Envelope</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">IndexType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">RangeQuery</span>

<span class="n">range_query_window</span> <span class="o">=</span> <span class="n">Envelope</span><span class="p">(</span><span class="o">-</span><span class="mf">90.01</span><span class="p">,</span> <span class="o">-</span><span class="mf">80.01</span><span class="p">,</span> <span class="mf">30.01</span><span class="p">,</span> <span class="mf">40.01</span><span class="p">)</span>
<span class="n">consider_boundary_intersection</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">## Only return gemeotries fully covered by the window</span>

<span class="n">build_on_spatial_partitioned_rdd</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">## Set to TRUE only if run join query</span>
<span class="n">spatial_rdd</span><span class="o">.</span><span class="n">buildIndex</span><span class="p">(</span><span class="n">IndexType</span><span class="o">.</span><span class="n">QUADTREE</span><span class="p">,</span> <span class="n">build_on_spatial_partitioned_rdd</span><span class="p">)</span>

<span class="n">using_index</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">query_result</span> <span class="o">=</span> <span class="n">RangeQuery</span><span class="o">.</span><span class="n">SpatialRangeQuery</span><span class="p">(</span>
    <span class="n">spatial_rdd</span><span class="p">,</span>
    <span class="n">range_query_window</span><span class="p">,</span>
    <span class="n">consider_boundary_intersection</span><span class="p">,</span>
    <span class="n">using_index</span>
<span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Using an index might not be the best choice all the time because building index also takes time. A spatial index is very useful when your data is complex polygons and line strings.</p>
</div>
<h3 id="output-format">Output format<a class="headerlink" href="#output-format" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Scala/Java</label><label for="__tabbed_7_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The output format of the spatial range query is another SpatialRDD.</p>
</div>
<div class="tabbed-block">
<p>The output format of the spatial range query is another RDD which consists of GeoData objects.</p>
<p>SpatialRangeQuery result can be used as RDD with map or other spark RDD functions. Also it can be used as
Python objects when using collect method.
Example:</p>
<div class="highlight"><pre><span></span><code><span class="n">query_result</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">geom</span><span class="o">.</span><span class="n">length</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>[
 1.5900840000000045,
 1.5906639999999896,
 1.1110299999999995,
 1.1096700000000084,
 1.1415619999999933,
 1.1386399999999952,
 1.1415619999999933,
 1.1418860000000137,
 1.1392780000000045,
 ...
]
</code></pre></div>
<p>Or transformed to GeoPandas GeoDataFrame</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span>
    <span class="n">query_result</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">geom</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">userData</span><span class="p">])</span><span class="o">.</span><span class="n">collect</span><span class="p">(),</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;geom&quot;</span><span class="p">,</span> <span class="s2">&quot;user_data&quot;</span><span class="p">],</span>
    <span class="n">geometry</span><span class="o">=</span><span class="s2">&quot;geom&quot;</span>
<span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="write-a-spatial-knn-query">Write a Spatial KNN Query<a class="headerlink" href="#write-a-spatial-knn-query" title="Permanent link">&para;</a></h2>
<p>A spatial K Nearest Neighbor query takes as input a K, a query point and a SpatialRDD and finds the K geometries in the RDD which are the closest to the query point.</p>
<p>Assume you now have a SpatialRDD (typed or generic). You can use the following code to issue a Spatial KNN Query on it.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Scala</label><label for="__tabbed_8_2">Java</label><label for="__tabbed_8_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">GeometryFactory</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="n">pointObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="n">createPoint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span><span class="w"> </span><span class="mf">34.01</span><span class="p">))</span>
<span class="kd">val</span><span class="w"> </span><span class="nc">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="c1">// K Nearest Neighbors</span>
<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">KNNQuery</span><span class="p">.</span><span class="nc">SpatialKnnQuery</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">pointObject</span><span class="p">,</span><span class="w"> </span><span class="nc">K</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">GeometryFactory</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GeometryFactory</span><span class="p">()</span>
<span class="n">Point</span><span class="w"> </span><span class="n">pointObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="na">createPoint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span><span class="w"> </span><span class="mf">34.01</span><span class="p">))</span>
<span class="kt">int</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="c1">// K Nearest Neighbors</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="n">JavaRDD</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">KNNQuery</span><span class="p">.</span><span class="na">SpatialKnnQuery</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">pointObject</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNNQuery</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shapely.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point</span>

<span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span> <span class="mf">34.01</span><span class="p">)</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">1000</span> <span class="c1">## K Nearest Neighbors</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">KNNQuery</span><span class="o">.</span><span class="n">SpatialKnnQuery</span><span class="p">(</span><span class="n">object_rdd</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">using_index</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Spatial KNN query that returns 5 Nearest Neighbors is equal to the following statement in Spatial SQL
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ck</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">ck</span><span class="p">.</span><span class="n">rating</span><span class="p">,</span><span class="w"> </span><span class="n">ST_Distance</span><span class="p">(</span><span class="n">ck</span><span class="p">.</span><span class="k">location</span><span class="p">,</span><span class="w"> </span><span class="n">myLocation</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">distance</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">checkins</span><span class="w"> </span><span class="n">ck</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="k">DESC</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">5</span>
</code></pre></div></p>
</div>
<h3 id="query-center-geometry">Query center geometry<a class="headerlink" href="#query-center-geometry" title="Permanent link">&para;</a></h3>
<p>Besides the Point type, Sedona KNN query center can be Polygon and LineString.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Scala/Java</label><label for="__tabbed_9_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To learn how to create Polygon and LineString object, see <a href="#range-query-window">Range query window</a>.</p>
</div>
<div class="tabbed-block">
<p>To create Polygon or Linestring object please follow <a href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely official docs</a></p>
</div>
</div>
</div>
<h3 id="use-spatial-indexes_1">Use spatial indexes<a class="headerlink" href="#use-spatial-indexes_1" title="Permanent link">&para;</a></h3>
<p>To utilize a spatial index in a spatial KNN query, use the following code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:3"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Scala</label><label for="__tabbed_10_2">Java</label><label for="__tabbed_10_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">GeometryFactory</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="n">pointObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="n">createPoint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">Coordinate</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span><span class="w"> </span><span class="mf">34.01</span><span class="p">))</span>
<span class="kd">val</span><span class="w"> </span><span class="nc">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="c1">// K Nearest Neighbors</span>


<span class="kd">val</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">// Set to TRUE only if run join query</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="n">buildIndex</span><span class="p">(</span><span class="nc">IndexType</span><span class="p">.</span><span class="nc">RTREE</span><span class="p">,</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">KNNQuery</span><span class="p">.</span><span class="nc">SpatialKnnQuery</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">pointObject</span><span class="p">,</span><span class="w"> </span><span class="nc">K</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">GeometryFactory</span><span class="w"> </span><span class="n">geometryFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GeometryFactory</span><span class="p">()</span>
<span class="n">Point</span><span class="w"> </span><span class="n">pointObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geometryFactory</span><span class="p">.</span><span class="na">createPoint</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Coordinate</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span><span class="w"> </span><span class="mf">34.01</span><span class="p">))</span>
<span class="n">val</span><span class="w"> </span><span class="n">K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="c1">// K Nearest Neighbors</span>


<span class="kt">boolean</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">// Set to TRUE only if run join query</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="na">buildIndex</span><span class="p">(</span><span class="n">IndexType</span><span class="p">.</span><span class="na">RTREE</span><span class="p">,</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="p">)</span>

<span class="kt">boolean</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">JavaRDD</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">KNNQuery</span><span class="p">.</span><span class="na">SpatialKnnQuery</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">pointObject</span><span class="p">,</span><span class="w"> </span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNNQuery</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">IndexType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shapely.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point</span>

<span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">84.01</span><span class="p">,</span> <span class="mf">34.01</span><span class="p">)</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1">## K Nearest Neighbors</span>

<span class="n">build_on_spatial_partitioned_rdd</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">## Set to TRUE only if run join query</span>
<span class="n">spatial_rdd</span><span class="o">.</span><span class="n">buildIndex</span><span class="p">(</span><span class="n">IndexType</span><span class="o">.</span><span class="n">RTREE</span><span class="p">,</span> <span class="n">build_on_spatial_partitioned_rdd</span><span class="p">)</span>

<span class="n">using_index</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">KNNQuery</span><span class="o">.</span><span class="n">SpatialKnnQuery</span><span class="p">(</span><span class="n">spatial_rdd</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">using_index</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only R-Tree index supports Spatial KNN query</p>
</div>
<h3 id="output-format_1">Output format<a class="headerlink" href="#output-format_1" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Scala/Java</label><label for="__tabbed_11_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The output format of the spatial KNN query is a list of geometries. The list has K geometry objects.</p>
</div>
<div class="tabbed-block">
<p>The output format of the spatial KNN query is a list of GeoData objects.
The list has K GeoData objects.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;</span> <span class="n">result</span>

<span class="p">[</span><span class="n">GeoData</span><span class="p">,</span> <span class="n">GeoData</span><span class="p">,</span> <span class="n">GeoData</span><span class="p">,</span> <span class="n">GeoData</span><span class="p">,</span> <span class="n">GeoData</span><span class="p">]</span>
</code></pre></div></p>
</div>
</div>
</div>
<h2 id="write-a-spatial-join-query">Write a Spatial Join Query<a class="headerlink" href="#write-a-spatial-join-query" title="Permanent link">&para;</a></h2>
<p>A spatial join query takes as input two Spatial RDD A and B. For each geometry in A, finds the geometries (from B) covered/intersected by it. A and B can be any geometry type and are not necessary to have the same geometry type.</p>
<p>Assume you now have two SpatialRDDs (typed or generic). You can use the following code to issue a Spatial Join Query on them.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:3"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Scala</label><label for="__tabbed_12_2">Java</label><label for="__tabbed_12_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SpatialPredicate</span><span class="p">.</span><span class="nc">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by each query window in queryWindowRDD</span>
<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="n">objectRDD</span><span class="p">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="n">objectRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="nc">GridType</span><span class="p">.</span><span class="nc">KDBTREE</span><span class="p">)</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">.</span><span class="n">getPartitioner</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">JoinQuery</span><span class="p">.</span><span class="nc">SpatialJoinQuery</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">queryWindowRDD</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">SpatialPredicate</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpatialPredicate</span><span class="p">.</span><span class="na">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by each query window in queryWindowRDD</span>
<span class="n">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="n">objectRDD</span><span class="p">.</span><span class="na">analyze</span><span class="p">()</span>

<span class="n">objectRDD</span><span class="p">.</span><span class="na">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="p">.</span><span class="na">KDBTREE</span><span class="p">)</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="na">spatialPartitioning</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">.</span><span class="na">getPartitioner</span><span class="p">)</span>

<span class="n">JavaPairRDD</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JoinQuery</span><span class="p">.</span><span class="na">SpatialJoinQuery</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">queryWindowRDD</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">JoinQuery</span>

<span class="n">consider_boundary_intersection</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">## Only return geometries fully covered by each query window in queryWindowRDD</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">object_rdd</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="n">object_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="o">.</span><span class="n">KDBTREE</span><span class="p">)</span>
<span class="n">query_window_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">object_rdd</span><span class="o">.</span><span class="n">getPartitioner</span><span class="p">())</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">JoinQuery</span><span class="o">.</span><span class="n">SpatialJoinQuery</span><span class="p">(</span><span class="n">object_rdd</span><span class="p">,</span> <span class="n">query_window_rdd</span><span class="p">,</span> <span class="n">using_index</span><span class="p">,</span> <span class="n">consider_boundary_intersection</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Spatial join query is equal to the following query in Spatial SQL:
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">superhero</span><span class="p">.</span><span class="n">name</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">superhero</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ST_Contains</span><span class="p">(</span><span class="n">city</span><span class="p">.</span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="n">superhero</span><span class="p">.</span><span class="n">geom</span><span class="p">);</span>
</code></pre></div>
Find the superheroes in each city</p>
</div>
<h3 id="use-spatial-partitioning">Use spatial partitioning<a class="headerlink" href="#use-spatial-partitioning" title="Permanent link">&para;</a></h3>
<p>Sedona spatial partitioning method can significantly speed up the join query. Three spatial partitioning methods are available: KDB-Tree, Quad-Tree and R-Tree. Two SpatialRDD must be partitioned by the same way.</p>
<p>If you first partition SpatialRDD A, then you must use the partitioner of A to partition B.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Scala/Java</label><label for="__tabbed_13_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="nc">GridType</span><span class="p">.</span><span class="nc">KDBTREE</span><span class="p">)</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">.</span><span class="n">getPartitioner</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">object_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="o">.</span><span class="n">KDBTREE</span><span class="p">)</span>
<span class="n">query_window_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">object_rdd</span><span class="o">.</span><span class="n">getPartitioner</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
</div>
<p>Or</p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Scala/Java</label><label for="__tabbed_14_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">queryWindowRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="nc">GridType</span><span class="p">.</span><span class="nc">KDBTREE</span><span class="p">)</span>
<span class="n">objectRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">queryWindowRDD</span><span class="p">.</span><span class="n">getPartitioner</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">query_window_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="o">.</span><span class="n">KDBTREE</span><span class="p">)</span>
<span class="n">object_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">query_window_rdd</span><span class="o">.</span><span class="n">getPartitioner</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="use-spatial-indexes_2">Use spatial indexes<a class="headerlink" href="#use-spatial-indexes_2" title="Permanent link">&para;</a></h3>
<p>To utilize a spatial index in a spatial join query, use the following code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:3"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><input id="__tabbed_15_3" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Scala</label><label for="__tabbed_15_2">Java</label><label for="__tabbed_15_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">joinQueryPartitioningType</span><span class="p">)</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">.</span><span class="n">getPartitioner</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">// Set to TRUE only if run join query</span>
<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="n">buildIndex</span><span class="p">(</span><span class="nc">IndexType</span><span class="p">.</span><span class="nc">QUADTREE</span><span class="p">,</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">JoinQuery</span><span class="p">.</span><span class="nc">SpatialJoinQueryFlat</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">queryWindowRDD</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRDD</span><span class="p">.</span><span class="na">spatialPartitioning</span><span class="p">(</span><span class="n">joinQueryPartitioningType</span><span class="p">)</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="na">spatialPartitioning</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">.</span><span class="na">getPartitioner</span><span class="p">)</span>

<span class="kt">boolean</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">// Set to TRUE only if run join query</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">queryWindowRDD</span><span class="p">.</span><span class="na">buildIndex</span><span class="p">(</span><span class="n">IndexType</span><span class="p">.</span><span class="na">QUADTREE</span><span class="p">,</span><span class="w"> </span><span class="n">buildOnSpatialPartitionedRDD</span><span class="p">)</span>

<span class="n">JavaPairRDD</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JoinQuery</span><span class="p">.</span><span class="na">SpatialJoinQueryFlat</span><span class="p">(</span><span class="n">objectRDD</span><span class="p">,</span><span class="w"> </span><span class="n">queryWindowRDD</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">IndexType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">JoinQuery</span>

<span class="n">object_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="o">.</span><span class="n">KDBTREE</span><span class="p">)</span>
<span class="n">query_window_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">object_rdd</span><span class="o">.</span><span class="n">getPartitioner</span><span class="p">())</span>

<span class="n">build_on_spatial_partitioned_rdd</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">## Set to TRUE only if run join query</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">query_window_rdd</span><span class="o">.</span><span class="n">buildIndex</span><span class="p">(</span><span class="n">IndexType</span><span class="o">.</span><span class="n">QUADTREE</span><span class="p">,</span> <span class="n">build_on_spatial_partitioned_rdd</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">JoinQuery</span><span class="o">.</span><span class="n">SpatialJoinQueryFlat</span><span class="p">(</span><span class="n">object_rdd</span><span class="p">,</span> <span class="n">query_window_rdd</span><span class="p">,</span> <span class="n">using_index</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>The index should be built on either one of two SpatialRDDs. In general, you should build it on the larger SpatialRDD.</p>
<h3 id="output-format_2">Output format<a class="headerlink" href="#output-format_2" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">Scala/Java</label><label for="__tabbed_16_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The output format of the spatial join query is a PairRDD. In this PairRDD, each object is a pair of two geometries. The left one is the geometry from objectRDD and the right one is the geometry from the queryWindowRDD.</p>
<div class="highlight"><pre><span></span><code>Point,Polygon
Point,Polygon
Point,Polygon
Polygon,Polygon
LineString,LineString
Polygon,LineString
...
</code></pre></div>
<p>Each object on the left is covered/intersected by the object on the right.</p>
</div>
<div class="tabbed-block">
<p>Result for this query is RDD which holds two GeoData objects within list of lists.
Example:
<div class="highlight"><pre><span></span><code><span class="n">result</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code>[[GeoData, GeoData], [GeoData, GeoData] ...]
</code></pre></div>
<p>It is possible to do some RDD operation on result data ex. Getting polygon centroid.
<div class="highlight"><pre><span></span><code><span class="n">result</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">geom</span><span class="o">.</span><span class="n">centroid</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</code></pre></div></p>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sedona Python users: Please use JoinQueryRaw from the same module for methods</p>
<ul>
<li>
<p>spatialJoin</p>
</li>
<li>
<p>DistanceJoinQueryFlat</p>
</li>
<li>
<p>SpatialJoinQueryFlat</p>
</li>
</ul>
<p>For better performance while converting to dataframe with adapter.
That approach allows to avoid costly serialization between Python
and jvm and in result operating on python object instead of native geometries.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">CircleRDD</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">JoinQueryRaw</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">StructuredAdapter</span>

<span class="n">object_rdd</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="n">circle_rdd</span> <span class="o">=</span> <span class="n">CircleRDD</span><span class="p">(</span><span class="n">object_rdd</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="c1">## Create a CircleRDD using the given distance</span>
<span class="n">circle_rdd</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="n">circle_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="o">.</span><span class="n">KDBTREE</span><span class="p">)</span>
<span class="n">spatial_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">circle_rdd</span><span class="o">.</span><span class="n">getPartitioner</span><span class="p">())</span>

<span class="n">consider_boundary_intersection</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">## Only return gemeotries fully covered by each query window in queryWindowRDD</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">JoinQueryRaw</span><span class="o">.</span><span class="n">DistanceJoinQueryFlat</span><span class="p">(</span><span class="n">spatial_rdd</span><span class="p">,</span> <span class="n">circle_rdd</span><span class="p">,</span> <span class="n">using_index</span><span class="p">,</span> <span class="n">consider_boundary_intersection</span><span class="p">)</span>

<span class="n">gdf</span> <span class="o">=</span> <span class="n">StructuredAdapter</span><span class="o">.</span><span class="n">toDf</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;left_col1&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s2">&quot;lefcoln&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;rightcol1&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s2">&quot;rightcol2&quot;</span><span class="p">],</span> <span class="n">spark</span><span class="p">)</span>
</code></pre></div></p>
</div>
<h2 id="write-a-distance-join-query">Write a Distance Join Query<a class="headerlink" href="#write-a-distance-join-query" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>RDD distance joins are only reliable for points. For other geometry types, please use Spatial SQL.</p>
</div>
<p>A distance join query takes as input two Spatial RDD A and B and a distance. For each geometry in A, finds the geometries (from B) are within the given distance to it. A and B can be any geometry type and are not necessary to have the same geometry type. The unit of the distance is explained <a href="#transform-the-coordinate-reference-system">here</a>.</p>
<p>If you don't want to transform your data and are ok with sacrificing the query accuracy, you can use an approximate degree value for distance. Please use <a href="https://lucidar.me/en/online-unit-converter-length-to-angle/convert-degrees-to-meters/#online-converter">this calculator</a>.</p>
<p>Assume you now have two SpatialRDDs (typed or generic). You can use the following code to issue a Distance Join Query on them.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:3"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><input id="__tabbed_17_3" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Scala</label><label for="__tabbed_17_2">Java</label><label for="__tabbed_17_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRddA</span><span class="p">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="kd">val</span><span class="w"> </span><span class="n">circleRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">CircleRDD</span><span class="p">(</span><span class="n">objectRddA</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">)</span><span class="w"> </span><span class="c1">// Create a CircleRDD using the given distance</span>

<span class="n">circleRDD</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="nc">GridType</span><span class="p">.</span><span class="nc">KDBTREE</span><span class="p">)</span>
<span class="n">objectRddB</span><span class="p">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">circleRDD</span><span class="p">.</span><span class="n">getPartitioner</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">SpatialPredicate</span><span class="p">.</span><span class="nc">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by each query window in queryWindowRDD</span>
<span class="kd">val</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="kd">val</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">JoinQuery</span><span class="p">.</span><span class="nc">DistanceJoinQueryFlat</span><span class="p">(</span><span class="n">objectRddB</span><span class="p">,</span><span class="w"> </span><span class="n">circleRDD</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRddA</span><span class="p">.</span><span class="na">analyze</span><span class="p">()</span>

<span class="n">CircleRDD</span><span class="w"> </span><span class="n">circleRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CircleRDD</span><span class="p">(</span><span class="n">objectRddA</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">)</span><span class="w"> </span><span class="c1">// Create a CircleRDD using the given distance</span>

<span class="n">circleRDD</span><span class="p">.</span><span class="na">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="p">.</span><span class="na">KDBTREE</span><span class="p">)</span>
<span class="n">objectRddB</span><span class="p">.</span><span class="na">spatialPartitioning</span><span class="p">(</span><span class="n">circleRDD</span><span class="p">.</span><span class="na">getPartitioner</span><span class="p">)</span>

<span class="n">SpatialPredicate</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SpatialPredicate</span><span class="p">.</span><span class="na">COVERED_BY</span><span class="w"> </span><span class="c1">// Only return gemeotries fully covered by each query window in queryWindowRDD</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">usingIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="n">JavaPairRDD</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JoinQuery</span><span class="p">.</span><span class="na">DistanceJoinQueryFlat</span><span class="p">(</span><span class="n">objectRddB</span><span class="p">,</span><span class="w"> </span><span class="n">circleRDD</span><span class="p">,</span><span class="w"> </span><span class="n">usingIndex</span><span class="p">,</span><span class="w"> </span><span class="n">spatialPredicate</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">CircleRDD</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">GridType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sedona.spark</span><span class="w"> </span><span class="kn">import</span> <span class="n">JoinQuery</span>

<span class="n">object_rdd</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="n">circle_rdd</span> <span class="o">=</span> <span class="n">CircleRDD</span><span class="p">(</span><span class="n">object_rdd</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span> <span class="c1">## Create a CircleRDD using the given distance</span>
<span class="n">circle_rdd</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>

<span class="n">circle_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">GridType</span><span class="o">.</span><span class="n">KDBTREE</span><span class="p">)</span>
<span class="n">spatial_rdd</span><span class="o">.</span><span class="n">spatialPartitioning</span><span class="p">(</span><span class="n">circle_rdd</span><span class="o">.</span><span class="n">getPartitioner</span><span class="p">())</span>

<span class="n">consider_boundary_intersection</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">## Only return gemeotries fully covered by each query window in queryWindowRDD</span>
<span class="n">using_index</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">JoinQuery</span><span class="o">.</span><span class="n">DistanceJoinQueryFlat</span><span class="p">(</span><span class="n">spatial_rdd</span><span class="p">,</span> <span class="n">circle_rdd</span><span class="p">,</span> <span class="n">using_index</span><span class="p">,</span> <span class="n">consider_boundary_intersection</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>Distance join can only accept <code>COVERED_BY</code> and <code>INTERSECTS</code> as spatial predicates. The rest part of the join query is same as the spatial join query.</p>
<p>The details of spatial partitioning in join query is <a href="#use-spatial-partitioning">here</a>.</p>
<p>The details of using spatial indexes in join query is <a href="#use-spatial-indexes_2">here</a>.</p>
<p>The output format of the distance join query is <a href="#output-format_2">here</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Distance join query is equal to the following query in Spatial SQL:
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">superhero</span><span class="p">.</span><span class="n">name</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="n">superhero</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ST_Distance</span><span class="p">(</span><span class="n">city</span><span class="p">.</span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="n">superhero</span><span class="p">.</span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</code></pre></div>
Find the superheroes within 10 miles of each city</p>
</div>
<h2 id="save-to-permanent-storage">Save to permanent storage<a class="headerlink" href="#save-to-permanent-storage" title="Permanent link">&para;</a></h2>
<p>You can always save an SpatialRDD back to some permanent storage such as HDFS and Amazon S3.</p>
<h3 id="save-an-spatialrdd-not-indexed">Save an SpatialRDD (not indexed)<a class="headerlink" href="#save-an-spatialrdd-not-indexed" title="Permanent link">&para;</a></h3>
<p>Use the following code to save an SpatialRDD as a distributed object file:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">Scala/Java</label><label for="__tabbed_18_2">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">objectRDD</span><span class="p">.</span><span class="n">rawSpatialRDD</span><span class="p">.</span><span class="n">saveAsObjectFile</span><span class="p">(</span><span class="s">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">object_rdd</span><span class="o">.</span><span class="n">rawJvmSpatialRDD</span><span class="o">.</span><span class="n">saveAsObjectFile</span><span class="p">(</span><span class="s2">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each object in a distributed object file is a byte array (not human-readable). This byte array is the serialized format of a Geometry or a SpatialIndex.</p>
</div>
<h3 id="save-an-spatialrdd-indexed">Save an SpatialRDD (indexed)<a class="headerlink" href="#save-an-spatialrdd-indexed" title="Permanent link">&para;</a></h3>
<p>Indexed typed SpatialRDD and generic SpatialRDD can be saved to permanent storage. However, the indexed SpatialRDD has to be stored as a distributed object file.</p>
<p>Use the following code to save an SpatialRDD as a distributed object file:</p>
<div class="highlight"><pre><span></span><code>objectRDD.indexedRawRDD.saveAsObjectFile(&quot;hdfs://PATH&quot;)
</code></pre></div>
<h3 id="save-an-spatialrdd-spatialpartitioned-wo-indexed">Save an SpatialRDD (spatialPartitioned W/O indexed)<a class="headerlink" href="#save-an-spatialrdd-spatialpartitioned-wo-indexed" title="Permanent link">&para;</a></h3>
<p>A spatial partitioned RDD can be saved to permanent storage but Spark is not able to maintain the same RDD partition Id of the original RDD. This will lead to wrong join query results. We are working on some solutions. Stay tuned!</p>
<h3 id="reload-a-saved-spatialrdd">Reload a saved SpatialRDD<a class="headerlink" href="#reload-a-saved-spatialrdd" title="Permanent link">&para;</a></h3>
<p>You can easily reload an SpatialRDD that has been saved to <mark>a distributed object file</mark>. Use the following code to reload the SpatialRDD:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:3"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><input id="__tabbed_19_2" name="__tabbed_19" type="radio" /><input id="__tabbed_19_3" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">Scala</label><label for="__tabbed_19_2">Java</label><label for="__tabbed_19_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="n">savedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">SpatialRDD</span><span class="p">[</span><span class="nc">Geometry</span><span class="p">]</span>
<span class="n">savedRDD</span><span class="p">.</span><span class="n">rawSpatialRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">objectFile</span><span class="p">[</span><span class="nc">Geometry</span><span class="p">](</span><span class="s">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">SpatialRDD</span><span class="w"> </span><span class="n">savedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpatialRDD</span><span class="o">&lt;</span><span class="n">Geometry</span><span class="o">&gt;</span>
<span class="n">savedRDD</span><span class="p">.</span><span class="na">rawSpatialRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="na">objectFile</span><span class="o">&lt;</span><span class="n">Geometry</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">saved_rdd</span> <span class="o">=</span> <span class="n">load_spatial_rdd_from_disc</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s2">&quot;hdfs://PATH&quot;</span><span class="p">,</span> <span class="n">GeoType</span><span class="o">.</span><span class="n">GEOMETRY</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>Use the following code to reload the indexed SpatialRDD:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="20:3"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><input id="__tabbed_20_2" name="__tabbed_20" type="radio" /><input id="__tabbed_20_3" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">Scala</label><label for="__tabbed_20_2">Java</label><label for="__tabbed_20_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="n">savedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">SpatialRDD</span><span class="p">[</span><span class="nc">Geometry</span><span class="p">]</span>
<span class="n">savedRDD</span><span class="p">.</span><span class="n">indexedRawRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="n">objectFile</span><span class="p">[</span><span class="nc">SpatialIndex</span><span class="p">](</span><span class="s">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">SpatialRDD</span><span class="w"> </span><span class="n">savedRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpatialRDD</span><span class="o">&lt;</span><span class="n">Geometry</span><span class="o">&gt;</span>
<span class="n">savedRDD</span><span class="p">.</span><span class="na">indexedRawRDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="na">objectFile</span><span class="o">&lt;</span><span class="n">SpatialIndex</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">saved_rdd</span> <span class="o">=</span> <span class="n">SpatialRDD</span><span class="p">()</span>
<span class="n">saved_rdd</span><span class="o">.</span><span class="n">indexedRawRDD</span> <span class="o">=</span> <span class="n">load_spatial_index_rdd_from_disc</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s2">&quot;hdfs://PATH&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime" title="May 3, 2025 19:30:21 UTC">May 3, 2025 19:30:21</span>
  </span>

    
    
    
    
  </aside>





                
  

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../sql-pure-sql/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Pure SQL environment">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Pure SQL environment
              </div>
            </div>
          </a>
        
        
          
          <a href="../geopandas-shapely/" class="md-footer__link md-footer__link--next" aria-label="Next: Work with GeoPandas and Shapely">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Work with GeoPandas and Shapely
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2025 The Apache Software Foundation. Apache Sedona, Sedona, Apache, the Apache feather logo, and the Apache Sedona project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries. All other marks mentioned may be trademarks or registered trademarks of their respective owners. Please visit <a href="https://www.apache.org/">Apache Software Foundation</a> for more details.<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=f3e121f6-c909-4592-8be6-5bd345768cba" /><img referrerpolicy="no-referrer-when-downgrade" src="https://analytics.apache.org/matomo.php?idsite=74&rec=1" />
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/apache/sedona" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ApacheSedona" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/9A3k5dEBsY" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.action.edit", "search.highlight", "search.share", "search.suggest", "navigation.footer", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": ["latest"], "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>