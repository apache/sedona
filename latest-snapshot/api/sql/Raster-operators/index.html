
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Apache Sedona&trade; is a cluster computing system for processing large-scale spatial data. Sedona extends existing cluster computing systems, such as Apache Spark and Apache Flink, with a set of out-of-the-box distributed Spatial Datasets and Spatial SQL that efficiently load, process, and analyze large-scale spatial data across machines.">
      
      
      
      
        <link rel="prev" href="../Raster-writer/">
      
      
        <link rel="next" href="../Raster-map-algebra/">
      
      
      <link rel="icon" href="../../../image/sedona_logo_symbol.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.5">
    
    
      
        <title>Raster operators - Apache Sedona&trade;</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="green">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pixel-functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest snapshot version.
  <a href="../../../.."> 
    <strong>Click here to go to the latest snapshot.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Apache Sedona&amp;trade;" class="md-header__button md-logo" aria-label="Apache Sedona&trade;" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m57.7 193 9.4 16.4c8.3 14.5 21.9 25.2 38 29.8l57.9 16.5c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6 16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5 4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5.3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3-92.8 0-171.5 60.9-198.2 145zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0 256 256 0 1 1-512 0z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apache Sedona&trade;
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Raster operators
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/apache/sedona" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    apache/sedona
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../setup/overview/" class="md-tabs__link">
          
  
  Setup

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../download/" class="md-tabs__link">
        
  
    
  
  Download

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tutorial/sql/" class="md-tabs__link">
          
  
  Programming Guides

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Overview/" class="md-tabs__link">
          
  
  API Docs

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../community/contact/" class="md-tabs__link">
          
  
  Community

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../usecases/airport-country/" class="md-tabs__link">
          
  
  Use cases

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../asf/asf/" class="md-tabs__link">
          
  
  Apache Software Foundation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Apache Sedona&amp;trade;" class="md-nav__button md-logo" aria-label="Apache Sedona&trade;" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m57.7 193 9.4 16.4c8.3 14.5 21.9 25.2 38 29.8l57.9 16.5c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6 16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5 4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5.3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3-92.8 0-171.5 60.9-198.2 145zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0 256 256 0 1 1-512 0z"/></svg>

    </a>
    Apache Sedona&trade;
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/apache/sedona" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    apache/sedona
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported platforms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Supported platforms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
        
          <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sedona with Apache Spark
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/platform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Language wrappers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
        
          <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sedona with Apache Flink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/flink/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/flink/platform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Language wrappers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/maven-coordinates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maven Central coordinate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Install with Apache Spark
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Install with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/install-scala/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Sedona Scala/Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/install-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Sedona Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rdocs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Sedona R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/zeppelin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Sedona-Zeppelin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Play Sedona in Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/wherobots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install on Wherobots
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/databricks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install on Databricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/emr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install on AWS EMR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set up Spark cluster
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Install with Apache Flink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Install with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/flink/install-scala/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Sedona Scala/Java
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../setup/compile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compile the code
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../../download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Download
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programming Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Programming Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sedona with Apache Spark
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spatial SQL app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/raster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raster SQL app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/sql-pure-sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pure SQL environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/rdd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spatial RDD app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rdocs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sedona R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/geopandas-shapely/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work with GeoPandas and Shapely
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7" >
        
          <label class="md-nav__link" for="__nav_4_1_7" id="__nav_4_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Map visualization SQL app
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_7">
            <span class="md-nav__icon md-icon"></span>
            Map visualization SQL app
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/viz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scala/Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/zeppelin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Apache Zeppelin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/viz-gallery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gallery
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8" >
        
          <label class="md-nav__link" for="__nav_4_1_8" id="__nav_4_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Performance tuning
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_8">
            <span class="md-nav__icon md-icon"></span>
            Performance tuning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/benchmark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Benchmark
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/Advanced-Tutorial-Tune-your-Application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tune RDD application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/storing-blobs-in-parquet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storing large raster geometries in Parquet files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sedona with Apache Flink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/flink/sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spatial SQL app
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scala/Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/jupyter-notebook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Docs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sedona with Apache Spark
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Spark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1" checked>
        
          <label class="md-nav__link" for="__nav_5_1_1" id="__nav_5_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_1">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1_2" >
        
          <label class="md-nav__link" for="__nav_5_1_1_2" id="__nav_5_1_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vector data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_1_2">
            <span class="md-nav__icon md-icon"></span>
            Vector data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Constructor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constructor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Function/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predicate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../AggregateFunction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aggregate function
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../DataFrameAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataFrame Style functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Optimizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Query optimization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_1_3" checked>
        
          <label class="md-nav__link" for="__nav_5_1_1_3" id="__nav_5_1_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Raster data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_1_3">
            <span class="md-nav__icon md-icon"></span>
            Raster data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Raster-loader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raster loader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Raster-writer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raster writer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Raster operators
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Raster operators
  </span>
  

      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="toc.title">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      
        toc.title
      
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  
  <a href="#pixel-functions" class="md-nav__link">
    Pixel Functions
  </a>  
  
  
    <nav class="md-nav" aria-label="Pixel Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_pixelascentroid" class="md-nav__link">
    RS_PixelAsCentroid
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_pixelaspoint" class="md-nav__link">
    RS_PixelAsPoint
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_pixelaspolygon" class="md-nav__link">
    RS_PixelAsPolygon
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#geometry-functions" class="md-nav__link">
    Geometry Functions
  </a>  
  
  
    <nav class="md-nav" aria-label="Geometry Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_envelope" class="md-nav__link">
    RS_Envelope
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_convexhull" class="md-nav__link">
    RS_ConvexHull
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_minconvexhull" class="md-nav__link">
    RS_MinConvexHull
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-accessors" class="md-nav__link">
    Raster Accessors
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Accessors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_georeference" class="md-nav__link">
    RS_GeoReference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_height" class="md-nav__link">
    RS_Height
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_rastertoworldcoordx" class="md-nav__link">
    RS_RasterToWorldCoordX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_rastertoworldcoordy" class="md-nav__link">
    RS_RasterToWorldCoordY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_scalex" class="md-nav__link">
    RS_ScaleX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_scaley" class="md-nav__link">
    RS_ScaleY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_skewx" class="md-nav__link">
    RS_SkewX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_skewy" class="md-nav__link">
    RS_SkewY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_upperleftx" class="md-nav__link">
    RS_UpperLeftX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_upperlefty" class="md-nav__link">
    RS_UpperLeftY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_width" class="md-nav__link">
    RS_Width
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_worldtorastercoord" class="md-nav__link">
    RS_WorldToRasterCoord
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_worldtorastercoordx" class="md-nav__link">
    RS_WorldToRasterCoordX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_worldtorastercoordy" class="md-nav__link">
    RS_WorldToRasterCoordY
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-band-accessors" class="md-nav__link">
    Raster Band Accessors
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Band Accessors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_band" class="md-nav__link">
    RS_Band
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bandnodatavalue" class="md-nav__link">
    RS_BandNoDataValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bandisnodata" class="md-nav__link">
    RS_BandIsNoData
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bandpixeltype" class="md-nav__link">
    RS_BandPixelType
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_count" class="md-nav__link">
    RS_Count
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_summarystats" class="md-nav__link">
    RS_SummaryStats
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-predicates" class="md-nav__link">
    Raster Predicates
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Predicates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_contains" class="md-nav__link">
    RS_Contains
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_intersects" class="md-nav__link">
    RS_Intersects
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_within" class="md-nav__link">
    RS_Within
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-based-operators" class="md-nav__link">
    Raster Based Operators
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Based Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_addband" class="md-nav__link">
    RS_AddBand
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_metadata" class="md-nav__link">
    RS_MetaData
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_numbands" class="md-nav__link">
    RS_NumBands
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_resample" class="md-nav__link">
    RS_Resample
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setbandnodatavalue" class="md-nav__link">
    RS_SetBandNoDataValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setgeoreference" class="md-nav__link">
    RS_SetGeoReference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setvalue" class="md-nav__link">
    RS_SetValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setvalues" class="md-nav__link">
    RS_SetValues
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setsrid" class="md-nav__link">
    RS_SetSRID
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_srid" class="md-nav__link">
    RS_SRID
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_value" class="md-nav__link">
    RS_Value
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_values" class="md-nav__link">
    RS_Values
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-to-map-algebra-operators" class="md-nav__link">
    Raster to Map Algebra Operators
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster to Map Algebra Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_bandasarray" class="md-nav__link">
    RS_BandAsArray
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_addbandfromarray" class="md-nav__link">
    RS_AddBandFromArray
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_mapalgebra" class="md-nav__link">
    RS_MapAlgebra
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#map-algebra-operators" class="md-nav__link">
    Map Algebra Operators
  </a>  
  
  
    <nav class="md-nav" aria-label="Map Algebra Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_add" class="md-nav__link">
    RS_Add
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_array" class="md-nav__link">
    RS_Array
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bitwiseand" class="md-nav__link">
    RS_BitwiseAND
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bitwiseor" class="md-nav__link">
    RS_BitwiseOR
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_countvalue" class="md-nav__link">
    RS_CountValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_divide" class="md-nav__link">
    RS_Divide
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_fetchregion" class="md-nav__link">
    RS_FetchRegion
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_greaterthan" class="md-nav__link">
    RS_GreaterThan
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_greaterthanequal" class="md-nav__link">
    RS_GreaterThanEqual
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_lessthan" class="md-nav__link">
    RS_LessThan
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_lessthanequal" class="md-nav__link">
    RS_LessThanEqual
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_logicaldifference" class="md-nav__link">
    RS_LogicalDifference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_logicalover" class="md-nav__link">
    RS_LogicalOver
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_mean" class="md-nav__link">
    RS_Mean
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_mode" class="md-nav__link">
    RS_Mode
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_modulo" class="md-nav__link">
    RS_Modulo
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_multiply" class="md-nav__link">
    RS_Multiply
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_multiplyfactor" class="md-nav__link">
    RS_MultiplyFactor
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_normalize" class="md-nav__link">
    RS_Normalize
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_normalizeddifference" class="md-nav__link">
    RS_NormalizedDifference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_squareroot" class="md-nav__link">
    RS_SquareRoot
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_subtract" class="md-nav__link">
    RS_Subtract
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Raster-map-algebra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raster map algebra
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Raster-visualizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raster visualization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Parameter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" >
        
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RDD (core)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            RDD (core)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../java-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scala/Java doc
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" >
        
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Viz
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            Viz
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../viz/sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataFrame/SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../viz/java-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rdocs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sedona R
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sedona with Apache Flink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Sedona with Apache Flink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../flink/Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../flink/Constructor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constructor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../flink/Function/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../flink/Aggregator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aggregator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../flink/Predicate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predicate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Community
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributor Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Contributor Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/rule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/develop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Develop
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Committer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Committer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/contributor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Management Committee
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/release-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Become a release manager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/snapshot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publish a snapshot version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/publish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Make a release
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/vote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vote a release
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../community/publication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publications
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Use cases
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Use cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../usecases/airport-country/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spatially aggregate airports per country
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../usecases/foot-traffic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Match foot traffic to Seattle coffee shops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../usecases/raster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raster image manipulation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Apache Software Foundation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Apache Software Foundation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../asf/asf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Foundation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/licenses/" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/events/current-event" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sponsorship
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/foundation/thanks.html" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thanks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://www.apache.org/security/" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Privacy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="toc.title">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      
        toc.title
      
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  
  <a href="#pixel-functions" class="md-nav__link">
    Pixel Functions
  </a>  
  
  
    <nav class="md-nav" aria-label="Pixel Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_pixelascentroid" class="md-nav__link">
    RS_PixelAsCentroid
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_pixelaspoint" class="md-nav__link">
    RS_PixelAsPoint
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_pixelaspolygon" class="md-nav__link">
    RS_PixelAsPolygon
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#geometry-functions" class="md-nav__link">
    Geometry Functions
  </a>  
  
  
    <nav class="md-nav" aria-label="Geometry Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_envelope" class="md-nav__link">
    RS_Envelope
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_convexhull" class="md-nav__link">
    RS_ConvexHull
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_minconvexhull" class="md-nav__link">
    RS_MinConvexHull
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-accessors" class="md-nav__link">
    Raster Accessors
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Accessors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_georeference" class="md-nav__link">
    RS_GeoReference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_height" class="md-nav__link">
    RS_Height
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_rastertoworldcoordx" class="md-nav__link">
    RS_RasterToWorldCoordX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_rastertoworldcoordy" class="md-nav__link">
    RS_RasterToWorldCoordY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_scalex" class="md-nav__link">
    RS_ScaleX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_scaley" class="md-nav__link">
    RS_ScaleY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_skewx" class="md-nav__link">
    RS_SkewX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_skewy" class="md-nav__link">
    RS_SkewY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_upperleftx" class="md-nav__link">
    RS_UpperLeftX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_upperlefty" class="md-nav__link">
    RS_UpperLeftY
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_width" class="md-nav__link">
    RS_Width
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_worldtorastercoord" class="md-nav__link">
    RS_WorldToRasterCoord
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_worldtorastercoordx" class="md-nav__link">
    RS_WorldToRasterCoordX
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_worldtorastercoordy" class="md-nav__link">
    RS_WorldToRasterCoordY
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-band-accessors" class="md-nav__link">
    Raster Band Accessors
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Band Accessors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_band" class="md-nav__link">
    RS_Band
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bandnodatavalue" class="md-nav__link">
    RS_BandNoDataValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bandisnodata" class="md-nav__link">
    RS_BandIsNoData
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bandpixeltype" class="md-nav__link">
    RS_BandPixelType
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_count" class="md-nav__link">
    RS_Count
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_summarystats" class="md-nav__link">
    RS_SummaryStats
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-predicates" class="md-nav__link">
    Raster Predicates
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Predicates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_contains" class="md-nav__link">
    RS_Contains
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_intersects" class="md-nav__link">
    RS_Intersects
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_within" class="md-nav__link">
    RS_Within
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-based-operators" class="md-nav__link">
    Raster Based Operators
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster Based Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_addband" class="md-nav__link">
    RS_AddBand
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_metadata" class="md-nav__link">
    RS_MetaData
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_numbands" class="md-nav__link">
    RS_NumBands
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_resample" class="md-nav__link">
    RS_Resample
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setbandnodatavalue" class="md-nav__link">
    RS_SetBandNoDataValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setgeoreference" class="md-nav__link">
    RS_SetGeoReference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setvalue" class="md-nav__link">
    RS_SetValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setvalues" class="md-nav__link">
    RS_SetValues
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_setsrid" class="md-nav__link">
    RS_SetSRID
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_srid" class="md-nav__link">
    RS_SRID
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_value" class="md-nav__link">
    RS_Value
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_values" class="md-nav__link">
    RS_Values
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#raster-to-map-algebra-operators" class="md-nav__link">
    Raster to Map Algebra Operators
  </a>  
  
  
    <nav class="md-nav" aria-label="Raster to Map Algebra Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_bandasarray" class="md-nav__link">
    RS_BandAsArray
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_addbandfromarray" class="md-nav__link">
    RS_AddBandFromArray
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_mapalgebra" class="md-nav__link">
    RS_MapAlgebra
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  
  <a href="#map-algebra-operators" class="md-nav__link">
    Map Algebra Operators
  </a>  
  
  
    <nav class="md-nav" aria-label="Map Algebra Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  
  <a href="#rs_add" class="md-nav__link">
    RS_Add
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_array" class="md-nav__link">
    RS_Array
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bitwiseand" class="md-nav__link">
    RS_BitwiseAND
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_bitwiseor" class="md-nav__link">
    RS_BitwiseOR
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_countvalue" class="md-nav__link">
    RS_CountValue
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_divide" class="md-nav__link">
    RS_Divide
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_fetchregion" class="md-nav__link">
    RS_FetchRegion
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_greaterthan" class="md-nav__link">
    RS_GreaterThan
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_greaterthanequal" class="md-nav__link">
    RS_GreaterThanEqual
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_lessthan" class="md-nav__link">
    RS_LessThan
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_lessthanequal" class="md-nav__link">
    RS_LessThanEqual
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_logicaldifference" class="md-nav__link">
    RS_LogicalDifference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_logicalover" class="md-nav__link">
    RS_LogicalOver
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_mean" class="md-nav__link">
    RS_Mean
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_mode" class="md-nav__link">
    RS_Mode
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_modulo" class="md-nav__link">
    RS_Modulo
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_multiply" class="md-nav__link">
    RS_Multiply
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_multiplyfactor" class="md-nav__link">
    RS_MultiplyFactor
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_normalize" class="md-nav__link">
    RS_Normalize
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_normalizeddifference" class="md-nav__link">
    RS_NormalizedDifference
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_squareroot" class="md-nav__link">
    RS_SquareRoot
  </a>  
  
  
</li>
        
          <li class="md-nav__item">
  
  <a href="#rs_subtract" class="md-nav__link">
    RS_Subtract
  </a>  
  
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
    
                  

  
  


  <h1>Raster operators</h1>

<h2 id="pixel-functions">Pixel Functions<a class="headerlink" href="#pixel-functions" title="Permanent link">&para;</a></h2>
<h3 id="rs_pixelascentroid">RS_PixelAsCentroid<a class="headerlink" href="#rs_pixelascentroid" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the centroid (point geometry) of the specified pixel's area.
The pixel coordinates specified are 1-indexed.
If <code>colX</code> and <code>rowY</code> are out of bounds for the raster, they are interpolated assuming the same skew and translate values.</p>
<p>Format: <code>RS_PixelAsCentroid(raster: Raster, colX: Integer, rowY: Integer)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">RS_PixelAsPolygon</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">134</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">),</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>POINT (156.5 -75.5)
</code></pre></div>
<h3 id="rs_pixelaspoint">RS_PixelAsPoint<a class="headerlink" href="#rs_pixelaspoint" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns a point geometry of the specified pixel's upper-left corner. The pixel coordinates specified are 1-indexed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the pixel coordinates specified do not exist in the raster (out of bounds), RS_PixelAsPoint throws an IndexOutOfBoundsException.</p>
</div>
<p>Format: <code>RS_PixelAsPoint(raster: Raster, colX: Integer, rowY: Integer)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">RS_PixelAsPoint</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output: 
<div class="highlight"><pre><span></span><code>POINT (123.19, -12)
</code></pre></div></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">RS_PixelAsPoint</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>IndexOutOfBoundsException: Specified pixel coordinates (6, 2) do not lie in the raster
</code></pre></div></p>
<h3 id="rs_pixelaspolygon">RS_PixelAsPolygon<a class="headerlink" href="#rs_pixelaspolygon" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns a polygon geometry that bounds the specified pixel.
The pixel coordinates specified are 1-indexed. 
If <code>colX</code> and <code>rowY</code> are out of bounds for the raster, they are interpolated assuming the same skew and translate values.</p>
<p>Format: <code>RS_PixelAsPolygon(raster: Raster, colX: Integer, rowY: Integer)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">RS_PixelAsPolygon</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">230</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>POLYGON ((131 -246, 139 -246, 139 -254, 131 -254, 131 -246))
</code></pre></div>
<h2 id="geometry-functions">Geometry Functions<a class="headerlink" href="#geometry-functions" title="Permanent link">&para;</a></h2>
<h3 id="rs_envelope">RS_Envelope<a class="headerlink" href="#rs_envelope" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the envelope of the raster as a Geometry.</p>
<p>Format: <code>RS_Envelope (raster: Raster)</code></p>
<p>Since: <code>v1.4.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Envelope</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>POLYGON ((0 0,20 0,20 60,0 60,0 0))
</code></pre></div>
<h3 id="rs_convexhull">RS_ConvexHull<a class="headerlink" href="#rs_convexhull" title="Permanent link">&para;</a></h3>
<p>Introduction: Return the convex hull geometry of the raster including the NoDataBandValue band pixels. 
For regular shaped and non-skewed rasters, this gives more or less the same result as RS_Envelope and hence is only useful for irregularly shaped or skewed rasters.</p>
<p>Format: <code>RS_ConvexHull(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_ConvexHull</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">156</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>POLYGON ((156 -132, 181 -107, 211 -7, 186 -32, 156 -132))
</code></pre></div>
<h3 id="rs_minconvexhull">RS_MinConvexHull<a class="headerlink" href="#rs_minconvexhull" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the min convex hull geometry of the raster <strong>excluding</strong> the NoDataBandValue band pixels, in the given band.
If no band is specified, all the bands are considered when creating the min convex hull of the raster. 
The created geometry representing the min convex hull has world coordinates of the raster in its CRS as the corner coordinates. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the specified band does not exist in the raster, RS_MinConvexHull throws an IllegalArgumentException</p>
</div>
<p>Format: </p>
<p><code>RS_MinConvexHull(raster: Raster)</code> </p>
<p><code>RS_MinConvexHull(raster: Raster, band: Integer)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">inputDf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Seq</span><span class="p">((</span><span class="nc">Seq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">        </span><span class="nc">Seq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))).</span><span class="n">toDF</span><span class="p">(</span><span class="s">&quot;values2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;values1&quot;</span><span class="p">)</span>
<span class="n">inputDf</span><span class="p">.</span><span class="n">selectExpr</span><span class="p">(</span><span class="s">&quot;ST_AsText(RS_MinConvexHull(RS_AddBandFromArray(&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">        </span><span class="s">&quot;RS_AddBandFromArray(RS_MakeEmptyRaster(2, 5, 5, 0, 0, 1, -1, 0, 0, 0), values1, 1, 0), values2, 2, 0))) as minConvexHullAll&quot;</span><span class="p">).</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code><span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span><span class="n">minConvexHullAll</span><span class="w">                        </span><span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span><span class="n">POLYGON</span><span class="w"> </span><span class="p">((</span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</code></pre></div></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">inputDf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Seq</span><span class="p">((</span><span class="nc">Seq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">        </span><span class="nc">Seq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))).</span><span class="n">toDF</span><span class="p">(</span><span class="s">&quot;values2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;values1&quot;</span><span class="p">)</span>
<span class="n">inputDf</span><span class="p">.</span><span class="n">selectExpr</span><span class="p">(</span><span class="s">&quot;ST_AsText(RS_MinConvexHull(RS_AddBandFromArray(&quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="s">&quot;RS_AddBandFromArray(RS_MakeEmptyRaster(2, 5, 5, 0, 0, 1, -1, 0, 0, 0), values1, 1, 0), values2, 2, 0), 1)) as minConvexHull1&quot;</span><span class="p">).</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code><span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span><span class="n">minConvexHull1</span><span class="w">                          </span><span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
<span class="o">|</span><span class="n">POLYGON</span><span class="w"> </span><span class="p">((</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------------------------+</span>
</code></pre></div></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_MinConvexHull</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="n">Provided</span><span class="w"> </span><span class="n">band</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">lie</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">raster</span>
</code></pre></div>
<h2 id="raster-accessors">Raster Accessors<a class="headerlink" href="#raster-accessors" title="Permanent link">&para;</a></h2>
<h3 id="rs_georeference">RS_GeoReference<a class="headerlink" href="#rs_georeference" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the georeference metadata of raster as a string in GDAL or ESRI format. Default is GDAL if not specified.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using <code>show()</code> to display the output, it will show special characters as escape sequences. To get the expected behavior use the following code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Scala</label><label for="__tabbed_1_2">Java</label><label for="__tabbed_1_3">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">println</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">selectExpr</span><span class="p">(</span><span class="s">&quot;RS_GeoReference(rast)&quot;</span><span class="p">).</span><span class="n">sample</span><span class="p">(</span><span class="mf">0.5</span><span class="p">).</span><span class="n">collect</span><span class="p">().</span><span class="n">mkString</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">join</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="p">.</span><span class="na">selectExpr</span><span class="p">(</span><span class="s">&quot;RS_GeoReference(rast)&quot;</span><span class="p">).</span><span class="na">sample</span><span class="p">(</span><span class="mf">0.5</span><span class="p">).</span><span class="na">collect</span><span class="p">()))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">selectExpr</span><span class="p">(</span><span class="s2">&quot;RS_GeoReference(rast)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()))</span>
</code></pre></div>
</div>
</div>
</div>
<p>The <code>sample()</code> function is only there to reduce the data sent to <code>collect()</code>, you may also use <code>filter()</code> if that's appropriate.</p>
</div>
<p>Format: <code>RS_GeoReference(raster: Raster, format: String = "GDAL")</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Difference between format representation is as follows:</p>
<p><code>GDAL</code></p>
<div class="highlight"><pre><span></span><code>ScaleX 
SkewY 
SkewX 
ScaleY 
UpperLeftX
UpperLeftY
</code></pre></div>
<p><code>ESRI</code></p>
<div class="highlight"><pre><span></span><code>ScaleX 
SkewY 
SkewX 
ScaleY 
UpperLeftX + ScaleX * 0.5
UpperLeftY + ScaleY * 0.5
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_GeoReference</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">))</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>2.000000 
5.000000 
4.000000 
-2.000000 
-53.000000 
51.000000
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_GeoReferrence</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="ss">&quot;GDAL&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>2.000000 
0.200000 
0.100000 
-3.000000 
100.000000 
200.000000
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_GeoReferrence</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="ss">&quot;ERSI&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>2.000000 
0.200000 
0.100000 
-3.000000 
101.000000 
198.500000
</code></pre></div>
<h3 id="rs_height">RS_Height<a class="headerlink" href="#rs_height" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the height of the raster.</p>
<p>Format: <code>RS_Height(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Height</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>512
</code></pre></div>
<h3 id="rs_rastertoworldcoordx">RS_RasterToWorldCoordX<a class="headerlink" href="#rs_rastertoworldcoordx" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the upper left X coordinate of the given row and column of the given raster geometric units of the geo-referenced raster. If any out of bounds values are given, the X coordinate of the assumed point considering existing raster pixel size and skew values will be returned.</p>
<p>Format: <code>RS_RasterToWorldCoordX(raster: Raster, colX: Integer, rowY: Integer)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_RasterToWorldCoordX</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>-123
</code></pre></div>
<h3 id="rs_rastertoworldcoordy">RS_RasterToWorldCoordY<a class="headerlink" href="#rs_rastertoworldcoordy" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the upper left Y coordinate of the given row and column of the given raster geometric units of the geo-referenced raster. If any out of bounds values are given, the Y coordinate of the assumed point considering existing raster pixel size and skew values will be returned.</p>
<p>Format: <code>RS_RasterToWorldCoordY(raster: Raster, colX: Integer, rowY: Integer)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_RasterToWorldCoordY</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>54
</code></pre></div>
<h3 id="rs_scalex">RS_ScaleX<a class="headerlink" href="#rs_scalex" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the pixel width of the raster in CRS units.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RS_ScaleX attempts to get an Affine transform on the grid in order to return scaleX (See <a href="https://en.wikipedia.org/wiki/World_file">World File</a> for more details). If the transform on the geometry is not an Affine transform, RS_ScaleX will throw an UnsupportedException:
<div class="highlight"><pre><span></span><code>UnsupportedOperationException(&quot;Only AffineTransform2D is supported&quot;)
</code></pre></div></p>
</div>
<p>Format: <code>RS_ScaleX(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_ScaleX</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>1
</code></pre></div>
<h3 id="rs_scaley">RS_ScaleY<a class="headerlink" href="#rs_scaley" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the pixel height of the raster in CRS units.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RS_ScaleY attempts to get an Affine transform on the grid in order to return scaleX (See <a href="https://en.wikipedia.org/wiki/World_file">World File</a> for more details). If the transform on the geometry is not an Affine transform, RS_ScaleY will throw an UnsupportedException:
<div class="highlight"><pre><span></span><code>UnsupportedOperationException(&quot;Only AffineTransform2D is supported&quot;)
</code></pre></div></p>
</div>
<p>Format: <code>RS_ScaleY(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_ScaleY</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>-2
</code></pre></div></p>
<h3 id="rs_skewx">RS_SkewX<a class="headerlink" href="#rs_skewx" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the X skew or rotation parameter.</p>
<p>Format: <code>RS_SkewX(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_SkewX</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">))</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>0.1
</code></pre></div>
<h3 id="rs_skewy">RS_SkewY<a class="headerlink" href="#rs_skewy" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the Y skew or rotation parameter.</p>
<p>Format: <code>RS_SkewY(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_SkewY</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">))</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>0.2
</code></pre></div>
<h3 id="rs_upperleftx">RS_UpperLeftX<a class="headerlink" href="#rs_upperleftx" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the X coordinate of the upper-left corner of the raster.</p>
<p>Format: <code>RS_UpperLeftX(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_UpperLeftX</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>5
</code></pre></div>
<h3 id="rs_upperlefty">RS_UpperLeftY<a class="headerlink" href="#rs_upperlefty" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the Y coordinate of the upper-left corner of the raster.</p>
<p>Format: <code>RS_UpperLeftY(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_UpperLeftY</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>6
</code></pre></div>
<h3 id="rs_width">RS_Width<a class="headerlink" href="#rs_width" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the width of the raster.</p>
<p>Format: <code>RS_Width(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Width</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>517
</code></pre></div></p>
<h3 id="rs_worldtorastercoord">RS_WorldToRasterCoord<a class="headerlink" href="#rs_worldtorastercoord" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the grid coordinate of the given world coordinates as a Point.</p>
<p>Format: </p>
<p><code>RS_WorldToRasterCoord(raster: Raster, point: Geometry)</code></p>
<p><code>RS_WorldToRasterCoord(raster: Raster, x: Double, y: Point)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_WorldToRasterCoord</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">),</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>POINT (1 1)
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_WorldToRasterCoord</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">),</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT (-52 51)&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>POINT (2 1)
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the given geometry point is not in the same CRS as the given raster, the given geometry will be transformed to the given raster's CRS. You can use <a href="../Function/#st_transform">ST_Transform</a> to transform the geometry beforehand.</p>
</div>
<h3 id="rs_worldtorastercoordx">RS_WorldToRasterCoordX<a class="headerlink" href="#rs_worldtorastercoordx" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the X coordinate of the grid coordinate of the given world coordinates as an integer.</p>
<p>Format: </p>
<p><code>RS_WorldToRasterCoord(raster: Raster, point: Geometry)</code></p>
<p><code>RS_WorldToRasterCoord(raster: Raster, x: Double, y: Double)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_WorldToRasterCoordX</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>1
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_WorldToRasterCoordX</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT (-53 51)&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>1
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For non-skewed rasters, you can provide any value for latitude and the intended value of world longitude, to get the desired answer</p>
</div>
<h3 id="rs_worldtorastercoordy">RS_WorldToRasterCoordY<a class="headerlink" href="#rs_worldtorastercoordy" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the Y coordinate of the grid coordinate of the given world coordinates as an integer.</p>
<p>Format: </p>
<p><code>RS_WorldToRasterCoordY(raster: Raster, point: Geometry)</code></p>
<p><code>RS_WorldToRasterCoordY(raster: Raster, x: Double, y: Double)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_WorldToRasterCoordY</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT (-50 50)&#39;</span><span class="p">));</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>2
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_WorldToRasterCoordY</span><span class="p">(</span><span class="n">ST_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">);</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>3
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For non-skewed rasters, you can provide any value for longitude and the intended value of world latitude, to get the desired answer</p>
</div>
<h2 id="raster-band-accessors">Raster Band Accessors<a class="headerlink" href="#raster-band-accessors" title="Permanent link">&para;</a></h2>
<h3 id="rs_band">RS_Band<a class="headerlink" href="#rs_band" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns a new raster consisting 1 or more bands of an existing raster. It can build new rasters from
existing ones, export only selected bands from a multiband raster, or rearrange the order of bands in a raster dataset.</p>
<p>Format:</p>
<p><code>RS_Band(raster: Raster, bands: ARRAY[Integer])</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_NumBands</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_Band</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span>
<span class="w">                </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">215</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">                </span><span class="nb">Array</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">116</span><span class="p">,</span><span class="w"> </span><span class="mi">118</span><span class="p">,</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w"> </span><span class="mi">135</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">157</span><span class="p">,</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span><span class="w"> </span><span class="mi">215</span><span class="p">,</span><span class="w"> </span><span class="mi">229</span><span class="p">,</span><span class="w"> </span><span class="mi">241</span><span class="p">,</span><span class="w"> </span><span class="mi">248</span><span class="p">,</span><span class="w"> </span><span class="mi">249</span><span class="p">),</span>
<span class="w">                </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="n">d</span>
<span class="w">            </span><span class="p">),</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>3
</code></pre></div>
<h3 id="rs_bandnodatavalue">RS_BandNoDataValue<a class="headerlink" href="#rs_bandnodatavalue" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the no data value of the given band of the given raster. If no band is given, band 1 is assumed. The band parameter is 1-indexed. If there is no no data value associated with the given band, RS_BandNoDataValue returns null.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the given band does not lie in the raster, RS_BandNoDataValue throws an IllegalArgumentException</p>
</div>
<p>Format: <code>RS_BandNoDataValue (raster: Raster, band: Integer = 1)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandNoDataValue</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>0.0
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandNoDataValue</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters_without_nodata</span><span class="p">;</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>null
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandNoDataValue</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rasters</span><span class="p">;</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>IllegalArgumentException: Provided band index 3 is not present in the raster.
</code></pre></div>
<h3 id="rs_bandisnodata">RS_BandIsNoData<a class="headerlink" href="#rs_bandisnodata" title="Permanent link">&para;</a></h3>
<p>Returns true if the band is filled with only nodata values. Band 1 is assumed if not specified.</p>
<p>Format: <code>RS_BandIsNoData(raster: Raster, band: Integer = 1)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="n">rast_table</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="mi">10</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="n">d</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandIsNoData</span><span class="p">(</span><span class="n">rast</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rast_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>true
</code></pre></div>
<h3 id="rs_bandpixeltype">RS_BandPixelType<a class="headerlink" href="#rs_bandpixeltype" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the datatype of each pixel in the given band of the given raster in string format. The band parameter is 1-indexed. If no band is specified, band 1 is assumed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the given band index does not exist in the given raster, RS_BandPixelType throws an IllegalArgumentException.</p>
</div>
<p>Following are the possible values returned by RS_BandPixelType:</p>
<ol>
<li><code>REAL_64BITS</code> - For Double values</li>
<li><code>REAL_32BITS</code> - For Float values</li>
<li><code>SIGNED_32BITS</code> - For Integer values</li>
<li><code>SIGNED_16BITS</code> - For Short values</li>
<li><code>UNSIGNED_16BITS</code> - For unsigned Short values</li>
<li><code>UNSIGNED_8BITS</code> - For Byte values</li>
</ol>
<p>Format: <code>RS_BandPixelType(rast: Raster, band: Integer = 1)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandPixelType</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;D&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>REAL_64BITS
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandPixelType</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;I&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>SIGNED_32BITS
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandPixelType</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;I&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</code></pre></div>
<p>Output: </p>
<div class="highlight"><pre><span></span><code>IllegalArgumentException: Provided band index 3 is not present in the raster
</code></pre></div>
<h3 id="rs_count">RS_Count<a class="headerlink" href="#rs_count" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the number of pixels in a given band. If band is not specified then it defaults to <code>1</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If excludeNoDataValue is set <code>true</code> then it will only count pixels with value not equal to the nodata value of the raster. 
Set excludeNoDataValue to <code>false</code> to get count of all pixels in raster.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mentioned band index doesn't exist, this will throw an <code>IllegalArgumentException</code>.</p>
</div>
<p>Format: </p>
<p><code>RS_Count(raster: Raster, band: Integer = 1, excludeNoDataValue: Boolean = true)</code></p>
<p><code>RS_Count(raster: Raster, band: Integer = 1)</code></p>
<p><code>RS_Count(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Count</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>25
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Count</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>6
</code></pre></div>
<h3 id="rs_summarystats">RS_SummaryStats<a class="headerlink" href="#rs_summarystats" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns summary stats consisting of count, sum, mean, stddev, min, max for a given band in raster. If band is not specified then it defaults to <code>1</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If excludeNoDataValue is set <code>true</code> then it will only count pixels with value not equal to the nodata value of the raster.
Set excludeNoDataValue to <code>false</code> to get count of all pixels in raster.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mentioned band index doesn't exist, this will throw an <code>IllegalArgumentException</code>.</p>
</div>
<p><code>RS_SummaryStats(raster: Raster, band: Integer = 1, excludeNoDataValue: Boolean = true)</code></p>
<p><code>RS_SummaryStats(raster: Raster, band: Integer = 1)</code></p>
<p><code>RS_SummaryStats(raster: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_SummaryStats</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>25.0, 204.0, 8.16, 9.4678403028357, 0.0, 25.0
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_SummaryStats</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>14.0, 204.0, 14.571428571428571, 11.509091348732502, 1.0, 25.0
</code></pre></div>
<h2 id="raster-predicates">Raster Predicates<a class="headerlink" href="#raster-predicates" title="Permanent link">&para;</a></h2>
<h3 id="rs_contains">RS_Contains<a class="headerlink" href="#rs_contains" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns true if the geometry or raster on the left side contains the geometry or raster on the right side.
The convex hull of the raster is considered in the test.</p>
<p>The rules for testing spatial relationship is the same as <code>RS_Intersects</code>.</p>
<p>Format:</p>
<p><code>RS_Contains(raster: Raster, geom: Geometry)</code></p>
<p><code>RS_Contains(geom: Geometry, raster: Raster)</code></p>
<p><code>RS_Contains(raster0: Raster, raster1: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Contains</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">ST_GeomFromWKT</span><span class="p">(</span><span class="s1">&#39;POLYGON ((5 5, 5 10, 10 10, 10 5, 5 5))&#39;</span><span class="p">))</span><span class="w"> </span><span class="n">rast_geom</span><span class="p">,</span>
<span class="w">    </span><span class="n">RS_Contains</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="n">rast_rast</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>+---------+---------+
|rast_geom|rast_rast|
+---------+---------+
|     true|     true|
+---------+---------+
</code></pre></div></p>
<h3 id="rs_intersects">RS_Intersects<a class="headerlink" href="#rs_intersects" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns true if raster or geometry on the left side intersects with the raster or geometry on the right side.
The convex hull of the raster is considered in the test.</p>
<p>Rules for testing spatial relationship:</p>
<ul>
<li>If the raster or geometry does not have a defined SRID, it is assumed to be in WGS84.</li>
<li>If both sides are in the same CRS, then perform the relationship test directly.</li>
<li>Otherwise, both sides will be transformed to WGS84 before the relationship test.</li>
</ul>
<p>Format:</p>
<p><code>RS_Intersects(raster: Raster, geom: Geometry)</code></p>
<p><code>RS_Intersects(geom: Geometry, raster: Raster)</code></p>
<p><code>RS_Intersects(raster0: Raster, raster1: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Intersects</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">ST_SetSRID</span><span class="p">(</span><span class="n">ST_PolygonFromEnvelope</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="mi">4326</span><span class="p">))</span><span class="w"> </span><span class="n">rast_geom</span><span class="p">,</span>
<span class="w">    </span><span class="n">RS_Intersects</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="n">rast_rast</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>+---------+---------+
|rast_geom|rast_rast|
+---------+---------+
|     true|     true|
+---------+---------+
</code></pre></div>
<h3 id="rs_within">RS_Within<a class="headerlink" href="#rs_within" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns true if the geometry or raster on the left side is within the geometry or raster on the right side.
The convex hull of the raster is considered in the test.</p>
<p>The rules for testing spatial relationship is the same as <code>RS_Intersects</code>.</p>
<p>Format: <code>RS_Within(raster: Raster, geom: Geometry)</code></p>
<p>Format: <code>RS_Within(geom: Geometry, raster: Raster)</code></p>
<p>Format: <code>RS_Within(raster0: Raster, raster1: Raster)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Within</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">ST_GeomFromWKT</span><span class="p">(</span><span class="s1">&#39;POLYGON ((0 0, 0 50, 100 50, 100 0, 0 0))&#39;</span><span class="p">))</span><span class="w"> </span><span class="n">rast_geom</span><span class="p">,</span>
<span class="w">    </span><span class="n">RS_Within</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="n">rast_rast</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>+---------+---------+
|rast_geom|rast_rast|
+---------+---------+
|     true|     true|
+---------+---------+
</code></pre></div></p>
<h2 id="raster-based-operators">Raster Based Operators<a class="headerlink" href="#raster-based-operators" title="Permanent link">&para;</a></h2>
<h3 id="rs_addband">RS_AddBand<a class="headerlink" href="#rs_addband" title="Permanent link">&para;</a></h3>
<p>Introduction: Adds a new band to a raster <code>toRaster</code> at a specified index <code>toRasterIndex</code>. The new band's values are copied from <code>fromRaster</code> at a specified band index <code>fromBand</code>. 
If no <code>toRasterIndex</code> is provided, the new band is appended to the end of <code>toRaster</code>. If no <code>fromBand</code> is specified, band <code>1</code> from <code>fromRaster</code> is copied by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IllegalArgumentException will be thrown in these cases:</p>
<ul>
<li>The provided Rasters, <code>toRaster</code> &amp; <code>fromRaster</code> don't have same shape.</li>
<li>The provided <code>fromBand</code> is not in <code>fromRaster</code>.</li>
<li>The provided <code>toRasterIndex</code> is not in or at end of <code>toRaster</code>. </li>
</ul>
</div>
<p>Format: </p>
<div class="highlight"><pre><span></span><code>RS_AddBand(toRaster: Raster, fromRaster: Raster, fromBand: Integer = 1, toRasterIndex: Integer = at_end)
</code></pre></div>
<div class="highlight"><pre><span></span><code>RS_AddBand(toRaster: Raster, fromRaster: Raster, fromBand: Integer = 1)
</code></pre></div>
<div class="highlight"><pre><span></span><code>RS_AddBand(toRaster: Raster, fromRaster: Raster)
</code></pre></div>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBand</span><span class="p">(</span><span class="n">raster1</span><span class="p">,</span><span class="w"> </span><span class="n">raster2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">rasters</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>GridCoverage2D[&quot;g...
</code></pre></div>
<h3 id="rs_metadata">RS_MetaData<a class="headerlink" href="#rs_metadata" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the metadata of the raster as an array of double. The array contains the following values:</p>
<ul>
<li>0: upper left x coordinate of the raster, in terms of CRS units</li>
<li>1: upper left y coordinate of the raster, in terms of CRS units</li>
<li>2: width of the raster, in terms of pixels</li>
<li>3: height of the raster, in terms of pixels</li>
<li>4: width of a pixel, in terms of CRS units (scaleX)</li>
<li>5: height of a pixel, in terms of CRS units (scaleY), may be negative</li>
<li>6: skew in x direction (rotation x)</li>
<li>7: skew in y direction (rotation y)</li>
<li>8: srid of the raster</li>
<li>9: number of bands</li>
</ul>
<p>Format: <code>RS_MetaData (raster: Raster)</code></p>
<p>Since: <code>v1.4.1</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_MetaData</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>[-1.3095817809482181E7, 4021262.7487925636, 512.0, 517.0, 72.32861272132695, -72.32861272132695, 0.0, 0.0, 3857.0, 1.0]
</code></pre></div>
<h3 id="rs_numbands">RS_NumBands<a class="headerlink" href="#rs_numbands" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the number of the bands in the raster.</p>
<p>Format: <code>RS_NumBands (raster: Raster)</code></p>
<p>Since: <code>v1.4.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_NumBands</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>4
</code></pre></div>
<h3 id="rs_resample">RS_Resample<a class="headerlink" href="#rs_resample" title="Permanent link">&para;</a></h3>
<p>Introduction:
Resamples a raster using a given resampling algorithm and new dimensions (width and height), a new grid corner to pivot the raster at (gridX and gridY) and a set of 
georeferencing attributes (scaleX and scaleY).</p>
<p>RS_Resample also provides an option to pass a reference raster to draw the georeferencing attributes out of. However, the SRIDs of the input and reference raster must be same, otherwise RS_Resample throws an IllegalArgumentException.</p>
<p>For the purpose of resampling, width-height pair and scaleX-scaleY pair are mutually exclusive, meaning any one of them can be used at a time. </p>
<p>The <code>useScale</code> parameter controls whether to use width-height or scaleX-scaleY. If <code>useScale</code> is false, the provided <code>widthOrScale</code> and <code>heightOrScale</code> values will be floored to integers and considered as width and height respectively (floating point width and height are not allowed). Otherwise, they are considered as scaleX and scaleY respectively.</p>
<p>Currently, RS_Resample does not support skewed rasters, and hence even if a skewed reference raster is provided, its skew values are ignored. If the input raster is skewed, the output raster geometry and interpolation may be incorrect. </p>
<p>The default algorithm used for resampling is <code>NearestNeighbor</code>, and hence if a null, empty or invalid value of algorithm is provided, RS_Resample defaults to using <code>NearestNeighbor</code>. However, the algorithm parameter is non-optional.</p>
<p>Following are valid values for the algorithm parameter (Case-insensitive):</p>
<ol>
<li>NearestNeighbor</li>
<li>Bilinear</li>
<li>Bicubic</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you just want to resize or rescale an input raster, you can use RS_Resample(raster: Raster, widthOrScale: Double, heightOrScale: Double, useScale: Boolean, algorithm: String)</p>
</div>
<p>Format: </p>
<div class="highlight"><pre><span></span><code><span class="n">RS_Resample</span><span class="p">(</span><span class="n">raster</span><span class="p">:</span><span class="w"> </span><span class="n">Raster</span><span class="p">,</span><span class="w"> </span><span class="n">widthOrScale</span><span class="p">:</span><span class="w"> </span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">heightOrScale</span><span class="p">:</span><span class="w"> </span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">gridX</span><span class="p">:</span><span class="w"> </span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">gridY</span><span class="p">:</span><span class="w"> </span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">useScale</span><span class="p">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span><span class="w"> </span><span class="n">algorithm</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">RS_Resample</span><span class="p">(</span><span class="n">raster</span><span class="p">:</span><span class="w"> </span><span class="n">Raster</span><span class="p">,</span><span class="w"> </span><span class="n">widthOrScale</span><span class="p">:</span><span class="w"> </span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">heightOrScale</span><span class="p">:</span><span class="w"> </span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">useScale</span><span class="p">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span><span class="w"> </span><span class="n">algorithm</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">RS_Resample</span><span class="p">(</span><span class="n">raster</span><span class="p">:</span><span class="w"> </span><span class="n">Raster</span><span class="p">,</span><span class="w"> </span><span class="n">referenceRaster</span><span class="p">:</span><span class="w"> </span><span class="n">Raster</span><span class="p">,</span><span class="w"> </span><span class="n">useScale</span><span class="p">:</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">,</span><span class="w"> </span><span class="n">algorithm</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="p">)</span>
</code></pre></div>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example: </p>
<div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="n">INPUT_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span>
<span class="w">    </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">    </span><span class="nb">ARRAY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast</span>
<span class="p">),</span>
<span class="n">RESAMPLED_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Resample</span><span class="p">(</span><span class="n">rast</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">resample_rast</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">INPUT_RASTER</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AsMatrix</span><span class="p">(</span><span class="n">resample_rast</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast_matrix</span><span class="p">,</span><span class="w"> </span><span class="n">RS_Metadata</span><span class="p">(</span><span class="n">resample_rast</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast_metadata</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">RESAMPLED_RASTER</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">6</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">6</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>

<span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">33333333333333326</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">19999999999999996</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">.</span><span class="mi">388888888888889</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">24</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">INPUT_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">   </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span>
<span class="w">    </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span>
<span class="w">    </span><span class="nb">ARRAY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast</span>
<span class="w">   </span><span class="p">),</span>
<span class="w">   </span><span class="n">RESAMPLED_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Resample</span><span class="p">(</span><span class="n">rast</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">resample_rast</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">INPUT_RASTER</span>
<span class="w">   </span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AsMatrix</span><span class="p">(</span><span class="n">resample_rast</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast_matrix</span><span class="p">,</span><span class="w"> </span><span class="n">RS_Metadata</span><span class="p">(</span><span class="n">resample_rast</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast_metadata</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">RESAMPLED_RASTER</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="o">|</span><span class="w">       </span><span class="n">NaN</span><span class="w">         </span><span class="n">NaN</span><span class="w">         </span><span class="n">NaN</span><span class="w">         </span><span class="n">NaN</span><span class="w">         </span><span class="n">NaN</span><span class="w">         </span><span class="n">NaN</span><span class="w">         </span><span class="n">NaN</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="n">NaN</span><span class="w">    </span><span class="mi">3</span><span class="p">.</span><span class="mi">050000</span><span class="w">    </span><span class="mi">3</span><span class="p">.</span><span class="mi">650000</span><span class="w">    </span><span class="mi">4</span><span class="p">.</span><span class="mi">250000</span><span class="w">    </span><span class="mi">5</span><span class="p">.</span><span class="mi">160000</span><span class="w">    </span><span class="mi">6</span><span class="p">.</span><span class="mi">690000</span><span class="w">    </span><span class="mi">7</span><span class="p">.</span><span class="mi">200000</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="n">NaN</span><span class="w">    </span><span class="mi">5</span><span class="p">.</span><span class="mi">150000</span><span class="w">    </span><span class="mi">5</span><span class="p">.</span><span class="mi">750000</span><span class="w">    </span><span class="mi">6</span><span class="p">.</span><span class="mi">350000</span><span class="w">    </span><span class="mi">7</span><span class="p">.</span><span class="mi">250000</span><span class="w">    </span><span class="mi">8</span><span class="p">.</span><span class="mi">750000</span><span class="w">    </span><span class="mi">9</span><span class="p">.</span><span class="mi">250000</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="n">NaN</span><span class="w">    </span><span class="mi">7</span><span class="p">.</span><span class="mi">250000</span><span class="w">    </span><span class="mi">7</span><span class="p">.</span><span class="mi">850000</span><span class="w">    </span><span class="mi">8</span><span class="p">.</span><span class="mi">450000</span><span class="w">    </span><span class="mi">9</span><span class="p">.</span><span class="mi">070000</span><span class="w">    </span><span class="mi">9</span><span class="p">.</span><span class="mi">730000</span><span class="w">    </span><span class="mi">9</span><span class="p">.</span><span class="mi">950000</span><span class="o">|</span>
<span class="o">|</span><span class="w">       </span><span class="n">NaN</span><span class="w">    </span><span class="mi">7</span><span class="p">.</span><span class="mi">400000</span><span class="w">    </span><span class="mi">8</span><span class="p">.</span><span class="mi">000000</span><span class="w">    </span><span class="mi">8</span><span class="p">.</span><span class="mi">600000</span><span class="w">    </span><span class="mi">9</span><span class="p">.</span><span class="mi">200000</span><span class="w">    </span><span class="mi">9</span><span class="p">.</span><span class="mi">800000</span><span class="w">   </span><span class="mi">10</span><span class="p">.</span><span class="mi">000000</span><span class="o">|</span>

<span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="n">INPUT_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast</span>
<span class="p">),</span>
<span class="n">REF_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ref_rast</span>
<span class="p">),</span>
<span class="n">RESAMPLED_RASTER</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Resample</span><span class="p">(</span><span class="n">rast</span><span class="p">,</span><span class="w"> </span><span class="n">ref_rast</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">resample_rast</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">INPUT_RASTER</span><span class="p">,</span><span class="w"> </span><span class="n">REF_RASTER</span>
<span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AsMatrix</span><span class="p">(</span><span class="n">resample_rast</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast_matrix</span><span class="p">,</span><span class="w"> </span><span class="n">RS_Metadata</span><span class="p">(</span><span class="n">resample_rast</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rast_metadata</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">RESAMPLED_RASTER</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">6</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">6</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">   </span><span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="o">|</span>

<span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">20000000298023224</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">4000000059604645</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_setbandnodatavalue">RS_SetBandNoDataValue<a class="headerlink" href="#rs_setbandnodatavalue" title="Permanent link">&para;</a></h3>
<p>Introduction: Sets no data value for given band. If band index not specified then band 1 is assumed. </p>
<p>Format: <code>RS_SetBandNoDataValue(raster: Raster, bandIndex: Integer = 1, noDataValue: Double)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandNoDataValue</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_SetBandNoDataValue</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="o">-</span><span class="mi">999</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>-999
</code></pre></div>
<h3 id="rs_setgeoreference">RS_SetGeoReference<a class="headerlink" href="#rs_setgeoreference" title="Permanent link">&para;</a></h3>
<p>Introduction: Sets the Georeference information of an object in a single call. Accepts inputs in <code>GDAL</code> and <code>ESRI</code> format.
Default format is <code>GDAL</code>. If all 6 parameters are not provided then will return null.</p>
<p>Format:</p>
<div class="highlight"><pre><span></span><code>RS_SetGeoReference(raster: Raster, geoRefCoord: String, format: String = &quot;GDAL&quot;)
</code></pre></div>
<div class="highlight"><pre><span></span><code>RS_SetGeoReference(raster: Raster, upperLeftX: Double, upperLeftY: Double, scaleX: Double, scaleY: Double, skewX: Double, skewY: Double)
</code></pre></div>
<p>Since: <code>v1.5.0</code></p>
<p>Difference between format representation is as follows:</p>
<p><code>GDAL</code></p>
<div class="highlight"><pre><span></span><code>ScaleX SkewY SkewX ScaleY UpperLeftX UpperLeftY
</code></pre></div>
<p><code>ESRI</code></p>
<div class="highlight"><pre><span></span><code>ScaleX SkewY SkewX ScaleY (UpperLeftX + ScaleX * 0.5) (UpperLeftY + ScaleY * 0.5)
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_GeoReference</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_SetGeoReference</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="s1">&#39;3 1.5 1.5 2 22 3&#39;</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>3.000000 
1.500000 
1.500000 
2.000000 
22.000000 
3.000000
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_GeoReference</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_SetGeoReference</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="s1">&#39;3 1.5 1.5 2 22 3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ESRI&#39;</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>3.000000 
1.500000 
1.500000 
2.000000 
20.500000 
2.000000
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_GeoReference</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_SetGeoReference</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">            </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>4.000000 
0.200000 
0.200000 
5.000000 
8.000000 
-3.000000
</code></pre></div>
<h3 id="rs_setvalue">RS_SetValue<a class="headerlink" href="#rs_setvalue" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns a raster by replacing the value of pixel specified by <code>colX</code> and <code>rowY</code>.</p>
<p>Format: </p>
<div class="highlight"><pre><span></span><code>RS_SetValue(raster: Raster, bandIndex: Integer = 1, colX: Integer, rowY: Integer, newValue: Double)
</code></pre></div>
<p>Since: <code>v1.5.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandAsArray</span><span class="p">(</span>
<span class="w">               </span><span class="n">RS_SetValue</span><span class="p">(</span>
<span class="w">                       </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span>
<span class="w">                               </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">                           </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="n">d</span>
<span class="w">                           </span><span class="p">),</span>
<span class="w">                       </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span>
<span class="w">                   </span><span class="p">)</span>
<span class="w">           </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>[1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 255.0, 2.0, 3.0, 3.0, 5.0, 6.0, 7.0, 0.0, 0.0, 3.0, 0.0, 0.0, 3.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
</code></pre></div>
<h3 id="rs_setvalues">RS_SetValues<a class="headerlink" href="#rs_setvalues" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns a raster by replacing the values of pixels in a specified rectangular region. The top left 
corner of the region is defined by the <code>colX</code> and <code>rowY</code> coordinates. The <code>width</code> and <code>height</code> parameters specify the dimensions 
of the rectangular region. The new values to be assigned to the pixels in this region can be specified as an array passed 
to this function.</p>
<p>Format: </p>
<div class="highlight"><pre><span></span><code>RS_SetValues(raster: Raster, bandIndex: Integer, colX: Integer, rowY: Integer, width: Integer, height: Integer, newValues: ARRAY[Double], keepNoData: Boolean = false)
</code></pre></div>
<div class="highlight"><pre><span></span><code>RS_SetValues(raster: Raster, bandIndex: Integer, geom: Geometry, newValue: Double, keepNoData: Boolean = false)
</code></pre></div>
<p>Since: <code>v1.5.0</code></p>
<p>The <code>colX</code>, <code>rowY</code>, and <code>bandIndex</code> are 1-indexed. If <code>keepNoData</code> is <code>true</code>, the pixels with NoData value will not be 
set to the corresponding value in <code>newValues</code>. The <code>newValues</code> should be provided in rows.</p>
<p>The geometry variant of this function accepts all types of Geometries and it sets the <code>newValue</code> in the specified region under the <code>geom</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the shape of <code>newValues</code> doesn't match with provided <code>width</code> and <code>height</code>, <code>IllegalArgumentException</code> is thrown. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the mentioned <code>bandIndex</code> doesn't exist, this will throw an <code>IllegalArgumentException</code>.</p>
</div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandAsArray</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_SetValues</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span>
<span class="w">                </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">                </span><span class="nb">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="n">d</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">19</span><span class="p">]</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">        </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>Array(1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 11.0, 12.0, 13.0, 3.0, 5.0, 14.0, 15.0, 16.0, 0.0, 3.0, 17.0, 18.0, 19.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
</code></pre></div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandAsArray</span><span class="p">(</span>
<span class="w">        </span><span class="n">RS_SetValues</span><span class="p">(</span>
<span class="w">            </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span>
<span class="w">                </span><span class="n">RS_MakeEmptyRaster</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">                </span><span class="nb">Array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromWKT</span><span class="p">(</span><span class="s1">&#39;POLYGON((1 -1, 3 -3, 6 -6, 4 -1, 1 -1))&#39;</span><span class="p">),</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="k">false</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">           </span><span class="p">)</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>Array(255.0, 255.0, 255.0, 0.0, 0.0, 0.0, 255.0, 255.0, 255.0, 0.0, 0.0, 0.0, 255.0, 255.0, 0.0, 0.0, 0.0, 0.0, 255.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
</code></pre></div>
<h3 id="rs_setsrid">RS_SetSRID<a class="headerlink" href="#rs_setsrid" title="Permanent link">&para;</a></h3>
<p>Introduction: Sets the spatial reference system identifier (SRID) of the raster geometry.</p>
<p>Format: <code>RS_SetSRID (raster: Raster, srid: Integer)</code></p>
<p>Since: <code>v1.4.1</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_SetSRID</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<h3 id="rs_srid">RS_SRID<a class="headerlink" href="#rs_srid" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the spatial reference system identifier (SRID) of the raster geometry.</p>
<p>Format: <code>RS_SRID (raster: Raster)</code></p>
<p>Since: <code>v1.4.1</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_SRID</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>3857
</code></pre></div>
<h3 id="rs_value">RS_Value<a class="headerlink" href="#rs_value" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the value at the given point in the raster.
If no band number is specified it defaults to 1. </p>
<p>Format: </p>
<p><code>RS_Value (raster: Raster, point: Geometry)</code></p>
<p><code>RS_Value (raster: Raster, point: Geometry, band: Integer)</code></p>
<p>Since: <code>v1.4.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Value</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="n">ST_Point</span><span class="p">(</span><span class="o">-</span><span class="mi">13077301</span><span class="p">.</span><span class="mi">685</span><span class="p">,</span><span class="w"> </span><span class="mi">4002565</span><span class="p">.</span><span class="mi">802</span><span class="p">))</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>5.0
</code></pre></div>
<h3 id="rs_values">RS_Values<a class="headerlink" href="#rs_values" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns the values at the given points in the raster.
If no band number is specified it defaults to 1.</p>
<p>RS_Values is similar to RS_Value but operates on an array of points.
RS_Values can be significantly faster since a raster only has to be loaded once for several points.</p>
<p>Format: </p>
<p><code>RS_Values (raster: Raster, points: ARRAY[Geometry])</code></p>
<p><code>RS_Values (raster: Raster, points: ARRAY[Geometry], band: Integer)</code></p>
<p>Since: <code>v1.4.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Values</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="n">ST_Point</span><span class="p">(</span><span class="o">-</span><span class="mi">1307</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">400</span><span class="p">.</span><span class="mi">8</span><span class="p">),</span><span class="w"> </span><span class="n">ST_Point</span><span class="p">(</span><span class="o">-</span><span class="mi">1403</span><span class="p">.</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">399</span><span class="p">.</span><span class="mi">1</span><span class="p">)))</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>Array(5.0, 3.0)
</code></pre></div>
<p>Spark SQL example for joining a point dataset with a raster dataset:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">pointDf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sedona</span><span class="p">.</span><span class="n">read</span><span class="p">...</span>
<span class="kd">val</span><span class="w"> </span><span class="n">rasterDf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sedona</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;binaryFile&quot;</span><span class="p">).</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;/some/path/*.tiff&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">withColumn</span><span class="p">(</span><span class="s">&quot;raster&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">expr</span><span class="p">(</span><span class="s">&quot;RS_FromGeoTiff(content)&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="n">withColumn</span><span class="p">(</span><span class="s">&quot;envelope&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">expr</span><span class="p">(</span><span class="s">&quot;RS_Envelope(raster)&quot;</span><span class="p">))</span>

<span class="c1">// Join the points with the raster extent and aggregate points to arrays.</span>
<span class="c1">// We only use the path and envelope of the raster to keep the shuffle as small as possible.</span>
<span class="kd">val</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pointDf</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">rasterDf</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">&quot;path&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;envelope&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">expr</span><span class="p">(</span><span class="s">&quot;ST_Within(point_geom, envelope)&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s">&quot;path&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">agg</span><span class="p">(</span><span class="n">collect_list</span><span class="p">(</span><span class="s">&quot;point_geom&quot;</span><span class="p">).</span><span class="n">alias</span><span class="p">(</span><span class="s">&quot;point&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">collect_list</span><span class="p">(</span><span class="s">&quot;point_id&quot;</span><span class="p">).</span><span class="n">alias</span><span class="p">(</span><span class="s">&quot;id&quot;</span><span class="p">))</span>

<span class="n">df</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">rasterDf</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;path&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">selectExpr</span><span class="p">(</span><span class="s">&quot;explode(arrays_zip(id, point, RS_Values(raster, point))) as result&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">selectExpr</span><span class="p">(</span><span class="s">&quot;result.*&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>+----+------------+-------+
| id | point      | value |
+----+------------+-------+
|  4 | POINT(1 1) |   3.0 |
|  5 | POINT(2 2) |   7.0 |
+----+------------+-------+
</code></pre></div>
<h2 id="raster-to-map-algebra-operators">Raster to Map Algebra Operators<a class="headerlink" href="#raster-to-map-algebra-operators" title="Permanent link">&para;</a></h2>
<p>To bridge the gap between the raster and map algebra worlds, the following operators are provided. These operators convert a raster to a map algebra object. The map algebra object can then be used with the map algebra operators described in the next section.</p>
<h3 id="rs_bandasarray">RS_BandAsArray<a class="headerlink" href="#rs_bandasarray" title="Permanent link">&para;</a></h3>
<p>Introduction: Extract a band from a raster as an array of doubles.</p>
<p>Format: <code>RS_BandAsArray (raster: Raster, bandIndex: Integer)</code>.</p>
<p>Since: <code>v1.4.1</code></p>
<p>BandIndex is 1-based and must be between 1 and RS_NumBands(raster). It returns null if the bandIndex is out of range or the raster is null.</p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_BandAsArray</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>+--------------------+
|                band|
+--------------------+
|[0.0, 0.0, 0.0, 0...|
+--------------------+
</code></pre></div>
<h3 id="rs_addbandfromarray">RS_AddBandFromArray<a class="headerlink" href="#rs_addbandfromarray" title="Permanent link">&para;</a></h3>
<p>Introduction: Add a band to a raster from an array of doubles.</p>
<p>Format: </p>
<p><code>RS_AddBandFromArray (raster: Raster, band: ARRAY[Double])</code> </p>
<p><code>RS_AddBandFromArray (raster: Raster, band: ARRAY[Double], bandIndex: Integer)</code> </p>
<p><code>RS_AddBandFromArray (raster: Raster, band: ARRAY[Double], bandIndex: Integer, noDataValue: Double)</code></p>
<p>Since: <code>v1.5.0</code></p>
<p>The bandIndex is 1-based and must be between 1 and RS_NumBands(raster) + 1. It throws an exception if the bandIndex is out of range or the raster is null. If not specified, the noDataValue of the band is assumed to be null.</p>
<p>When the bandIndex is RS_NumBands(raster) + 1, it appends the band to the end of the raster. Otherwise, it replaces the existing band at the bandIndex.</p>
<p>If the bandIndex and noDataValue is not given, a convenience implementation adds a new band with a null noDataValue.</p>
<p>Adding a new band with a custom noDataValue requires bandIndex = RS_NumBands(raster) + 1 and non-null noDataValue to be explicitly specified.</p>
<p>Modifying or Adding a customNoDataValue is also possible by giving an existing band in RS_AddBandFromArray</p>
<p>In order to remove an existing noDataValue from an existing band, pass null as the noDataValue in the RS_AddBandFromArray.</p>
<p>Note that: <code>bandIndex == RS_NumBands(raster) + 1</code> is an experimental feature and might lead to the loss of raster metadata and properties such as color models.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RS_AddBandFromArray typecasts the double band values to the given datatype of the raster. This can lead to overflow values if values beyond the range of the raster's datatype are provided.</p>
</div>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="n">RS_MultiplyFactor</span><span class="p">(</span><span class="n">RS_BandAsArray</span><span class="p">(</span><span class="n">RS_FromGeoTiff</span><span class="p">(</span><span class="n">content</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">raster</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="n">RS_MultiplyFactor</span><span class="p">(</span><span class="n">RS_BandAsArray</span><span class="p">(</span><span class="n">RS_FromGeoTiff</span><span class="p">(</span><span class="n">content</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">raster</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_AddBandFromArray</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span><span class="w"> </span><span class="n">RS_MultiplyFactor</span><span class="p">(</span><span class="n">RS_BandAsArray</span><span class="p">(</span><span class="n">RS_FromGeoTiff</span><span class="p">(</span><span class="n">content</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">999</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">raster</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>+--------------------+
|              raster|
+--------------------+
|GridCoverage2D[&quot;g...|
+--------------------+
</code></pre></div></p>
<h3 id="rs_mapalgebra">RS_MapAlgebra<a class="headerlink" href="#rs_mapalgebra" title="Permanent link">&para;</a></h3>
<p>Introduction: Apply a map algebra script on a raster.</p>
<p>Format: </p>
<p><code>RS_MapAlgebra (raster: Raster, pixelType: String, script: String)</code></p>
<div class="highlight"><pre><span></span><code>RS_MapAlgebra (raster: Raster, pixelType: String, script: String, noDataValue: Double)
</code></pre></div>
<p>Since: <code>v1.5.0</code></p>
<p><code>RS_MapAlgebra</code> runs a script on a raster. The script is written in a map algebra language called <a href="https://github.com/geosolutions-it/jai-ext/wiki/Jiffle">Jiffle</a>. The script takes a raster
as input and returns a raster of the same size as output. The script can be used to apply a map algebra expression on a raster. The input raster is named <code>rast</code> in the Jiffle script, and the output raster is named <code>out</code>.</p>
<p>Spark SQL Example:</p>
<p>Calculate the NDVI of a raster with 4 bands (R, G, B, NIR):</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- Assume that the input raster has 4 bands: R, G, B, NIR</span>
<span class="c1">-- rast[0] refers to the R band, rast[3] refers to the NIR band.</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">RS_MapAlgebra</span><span class="p">(</span><span class="n">rast</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;out = (rast[3] - rast[0]) / (rast[3] + rast[0]);&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ndvi</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">raster_table</span>
</code></pre></div>
<p>Output:
<div class="highlight"><pre><span></span><code>+--------------------+
|              raster|
+--------------------+
|GridCoverage2D[&quot;g...|
+--------------------+
</code></pre></div></p>
<p>For more details and examples about <code>RS_MapAlgebra</code>, please refer to the <a href="../Raster-map-algebra/">Map Algebra documentation</a>.
To learn how to write map algebra script, please refer to <a href="https://github.com/geosolutions-it/jai-ext/wiki/Jiffle---language-summary">Jiffle language summary</a>.</p>
<h2 id="map-algebra-operators">Map Algebra Operators<a class="headerlink" href="#map-algebra-operators" title="Permanent link">&para;</a></h2>
<p>Map algebra operators work on a single band of a raster. Each band is represented as an array of doubles. The operators return an array of doubles.</p>
<h3 id="rs_add">RS_Add<a class="headerlink" href="#rs_add" title="Permanent link">&para;</a></h3>
<p>Introduction: Add two spectral bands in a Geotiff image </p>
<p>Format: <code>RS_Add (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">sumDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Add(band1, band2) as sumOfBands from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_array">RS_Array<a class="headerlink" href="#rs_array" title="Permanent link">&para;</a></h3>
<p>Introduction: Create an array that is filled by the given value</p>
<p>Format: <code>RS_Array(length: Integer, value: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="nc">SELECT</span><span class="w"> </span><span class="nc">RS_Array</span><span class="p">(</span><span class="n">height</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_bitwiseand">RS_BitwiseAND<a class="headerlink" href="#rs_bitwiseand" title="Permanent link">&para;</a></h3>
<p>Introduction: Find Bitwise AND between two bands of Geotiff image</p>
<p>Format: <code>RS_BitwiseAND (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">biwiseandDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_BitwiseAND(band1, band2) as andvalue from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_bitwiseor">RS_BitwiseOR<a class="headerlink" href="#rs_bitwiseor" title="Permanent link">&para;</a></h3>
<p>Introduction: Find Bitwise OR between two bands of Geotiff image</p>
<p>Format: <code>RS_BitwiseOR (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">biwiseorDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_BitwiseOR(band1, band2) as or from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_countvalue">RS_CountValue<a class="headerlink" href="#rs_countvalue" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns count of a particular value from a spectral band in a raster image</p>
<p>Format: <code>RS_CountValue (Band1: ARRAY[Double], Target: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">countDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_CountValue(band1, target) as count from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_divide">RS_Divide<a class="headerlink" href="#rs_divide" title="Permanent link">&para;</a></h3>
<p>Introduction: Divide band1 with band2 from a geotiff image</p>
<p>Format: <code>RS_Divide (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">multiplyDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Divide(band1, band2) as divideBands from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_fetchregion">RS_FetchRegion<a class="headerlink" href="#rs_fetchregion" title="Permanent link">&para;</a></h3>
<p>Introduction: Fetch a subset of region from given Geotiff image based on minimumX, minimumY, maximumX and maximumY index as well original height and width of image</p>
<p>Format: </p>
<div class="highlight"><pre><span></span><code>RS_FetchRegion (Band: ARRAY[Double], coordinates: ARRAY[Integer], dimensions: ARRAY[Integer])
</code></pre></div>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_FetchRegion(Band,Array(0, 0, 1, 2),Array(3, 3)) as Region from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_greaterthan">RS_GreaterThan<a class="headerlink" href="#rs_greaterthan" title="Permanent link">&para;</a></h3>
<p>Introduction: Mask all the values with 1 which are greater than a particular target value</p>
<p>Format: <code>RS_GreaterThan (Band: ARRAY[Double], Target: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">greaterDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_GreaterThan(band, target) as maskedvalues from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_greaterthanequal">RS_GreaterThanEqual<a class="headerlink" href="#rs_greaterthanequal" title="Permanent link">&para;</a></h3>
<p>Introduction: Mask all the values with 1 which are greater than equal to a particular target value</p>
<p>Format: <code>RS_GreaterThanEqual (Band: ARRAY[Double], Target: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">greaterEqualDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_GreaterThanEqual(band, target) as maskedvalues from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_lessthan">RS_LessThan<a class="headerlink" href="#rs_lessthan" title="Permanent link">&para;</a></h3>
<p>Introduction: Mask all the values with 1 which are less than a particular target value</p>
<p>Format: <code>RS_LessThan (Band: ARRAY[Double], Target: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">lessDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_LessThan(band, target) as maskedvalues from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_lessthanequal">RS_LessThanEqual<a class="headerlink" href="#rs_lessthanequal" title="Permanent link">&para;</a></h3>
<p>Introduction: Mask all the values with 1 which are less than equal to a particular target value</p>
<p>Format: <code>RS_LessThanEqual (Band: ARRAY[Double], Target: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">lessEqualDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_LessThanEqual(band, target) as maskedvalues from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_logicaldifference">RS_LogicalDifference<a class="headerlink" href="#rs_logicaldifference" title="Permanent link">&para;</a></h3>
<p>Introduction: Return value from band 1 if a value in band1 and band2 are different, else return 0</p>
<p>Format: <code>RS_LogicalDifference (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">logicalDifference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_LogicalDifference(band1, band2) as logdifference from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_logicalover">RS_LogicalOver<a class="headerlink" href="#rs_logicalover" title="Permanent link">&para;</a></h3>
<p>Introduction: Return value from band1 if it's not equal to 0, else return band2 value</p>
<p>Format: <code>RS_LogicalOver (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">logicalOver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_LogicalOver(band1, band2) as logover from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_mean">RS_Mean<a class="headerlink" href="#rs_mean" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns Mean value for a spectral band in a Geotiff image</p>
<p>Format: <code>RS_Mean (Band: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">meanDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Mean(band) as mean from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_mode">RS_Mode<a class="headerlink" href="#rs_mode" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns Mode from a spectral band in a Geotiff image in form of an array</p>
<p>Format: <code>RS_Mode (Band: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">modeDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Mode(band) as mode from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_modulo">RS_Modulo<a class="headerlink" href="#rs_modulo" title="Permanent link">&para;</a></h3>
<p>Introduction: Find modulo of pixels with respect to a particular value</p>
<p>Format: <code>RS_Modulo (Band: ARRAY[Double], Target: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">moduloDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Modulo(band, target) as modulo from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_multiply">RS_Multiply<a class="headerlink" href="#rs_multiply" title="Permanent link">&para;</a></h3>
<p>Introduction: Multiply two spectral bands in a Geotiff image</p>
<p>Format: <code>RS_Multiply (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">multiplyDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Multiply(band1, band2) as multiplyBands from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_multiplyfactor">RS_MultiplyFactor<a class="headerlink" href="#rs_multiplyfactor" title="Permanent link">&para;</a></h3>
<p>Introduction: Multiply a factor to a spectral band in a geotiff image</p>
<p>Format: <code>RS_MultiplyFactor (Band1: ARRAY[Double], Factor: Double)</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">multiplyFactorDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_MultiplyFactor(band1, 2) as multiplyfactor from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This function only accepts integer as factor before <code>v1.5.0</code>.</p>
<h3 id="rs_normalize">RS_Normalize<a class="headerlink" href="#rs_normalize" title="Permanent link">&para;</a></h3>
<p>Introduction: Normalize the value in the array to [0, 255]</p>
<p>Format: <code>RS_Normalize (Band: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">RS_Normalize</span><span class="p">(</span><span class="n">band</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_normalizeddifference">RS_NormalizedDifference<a class="headerlink" href="#rs_normalizeddifference" title="Permanent link">&para;</a></h3>
<p>Introduction: Returns Normalized Difference between two bands(band2 and band1) in a Geotiff image(example: NDVI, NDBI)</p>
<p>Format: <code>RS_NormalizedDifference (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">normalizedDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_NormalizedDifference(band1, band2) as normdifference from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_squareroot">RS_SquareRoot<a class="headerlink" href="#rs_squareroot" title="Permanent link">&para;</a></h3>
<p>Introduction: Find Square root of band values in a geotiff image </p>
<p>Format: <code>RS_SquareRoot (Band: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">rootDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_SquareRoot(band) as squareroot from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rs_subtract">RS_Subtract<a class="headerlink" href="#rs_subtract" title="Permanent link">&para;</a></h3>
<p>Introduction: Subtract two spectral bands in a Geotiff image(band2 - band1)</p>
<p>Format: <code>RS_Subtract (Band1: ARRAY[Double], Band2: ARRAY[Double])</code></p>
<p>Since: <code>v1.1.0</code></p>
<p>Spark SQL Example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="n">subtractDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spark</span><span class="p">.</span><span class="n">sql</span><span class="p">(</span><span class="s">&quot;select RS_Subtract(band1, band2) as differenceOfOfBands from dataframe&quot;</span><span class="p">)</span>
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">September 30, 2023 01:05:59</span>
      
    
  </small>
</div>





                
  

              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="footer.title">
        
          <a href="../Raster-writer/" title="Raster writer" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Raster writer
              </div>
            </div>
          </a>
        
        
          <a href="../Raster-map-algebra/" title="Raster map algebra" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Raster map algebra
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright  2023 The Apache Software Foundation
            <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/apache/sedona" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/ApacheSedona" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
          </div>
        
Apache Sedona, Sedona, Apache, the Apache feather logo, and the Apache Sedona project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries. All other marks mentioned may be trademarks or registered trademarks of their respective owners. Please visit <a href="http://www.apache.org/">Apache Software Foundation</a> for more details.
<br>
<img src="https://www.apache.org/foundation/press/kit/asf_logo_wide.png" width="500">
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>